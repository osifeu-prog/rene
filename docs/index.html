<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NIFTII â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</title>
  <meta name="description" content="NIFTII â€” ×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, XP, ×©×™×ª×•×¤×™× ×××™×ª×™×™×, ××“×¨×™×š ××œ× ×œ×™×¦×™×¨×ª ×“×£ × ×—×™×ª×” ××™×©×™ ×‘×¢×–×¨×ª AI, ××©×—×§ ×§×œ×¤×™× NFT, ×¦'××˜, ×—×™×“×•×Ÿ, ×’×¨×£ ×©×™×ª×•×¤×™×, ×•×”×¦×‘×¢×” ×œ×©× ×”×¨×©×ª." />
  <meta name="theme-color" content="#0d1024" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://osifeu-prog.github.io/rene/" />
  <meta property="og:title" content="NIFTII â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª" />
  <meta property="og:description" content="×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, XP, ×©×™×ª×•×¤×™× ×××™×ª×™×™×, ××“×¨×™×š ××œ× ×œ×™×¦×™×¨×ª ×“×£ × ×—×™×ª×” ××™×©×™ ×‘×¢×–×¨×ª AI" />
  <meta property="og:image" content="https://osifeu-prog.github.io/rene/1.jpeg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://osifeu-prog.github.io/rene/" />
  <meta property="twitter:title" content="NIFTII â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª" />
  <meta property="twitter:description" content="×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, XP, ×©×™×ª×•×¤×™× ×××™×ª×™×™×, ××“×¨×™×š ××œ× ×œ×™×¦×™×¨×ª ×“×£ × ×—×™×ª×” ××™×©×™ ×‘×¢×–×¨×ª AI" />
  <meta property="twitter:image" content="https://osifeu-prog.github.io/rene/1.jpeg" />
  
  <style>
    :root {
      --bg1: #0d1024;
      --bg2: #1a1642;
      --text: #ffffff;
      --muted: #e6f0ff;
      --accent: #ff4d8f;
      --accent2: #00ffe1;
      --accent3: #7cfb00;
      --accent4: #ffd93d;
      --info: #4da6ff;
      --glass: rgba(255,255,255,0.10);
      --glass-strong: rgba(255,255,255,0.16);
      --border: rgba(255,255,255,0.22);
      --shadow: 0 12px 28px rgba(0,0,0,0.45);
      --radius: 16px;
      --success: #00d26a;
      --warning: #ff9500;
      --error: #ff375f;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      overflow-x: hidden;
      perspective: 1200px;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, #2b1b56 0%, var(--bg1) 40%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
    }
    
    a {
      color: #fff;
      text-decoration: underline;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    .section {
      margin: 2rem 0;
    }
    
    /* ×¨×§×¢ ×—×œ×§ */
    .bg {
      position: fixed;
      inset: 0;
      z-index: -3;
      overflow: hidden;
    }
    
    canvas#particles {
      position: absolute;
      inset: 0;
      opacity: 0.22;
      will-change: transform;
    }
    
    .orb {
      position: absolute;
      width: 280px;
      height: 280px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--accent2) 0%, #6a37ff 35%, transparent 70%);
      filter: blur(32px);
      mix-blend-mode: screen;
      will-change: transform;
      animation: orbMove 20s linear infinite;
    }
    
    .orb.orb2 {
      background: radial-gradient(circle at 70% 30%, var(--accent) 0%, #ffb86b 40%, transparent 70%);
      animation-duration: 26s;
    }
    
    @keyframes orbMove {
      0% { transform: translate3d(8vw, 10vh, 0); }
      50% { transform: translate3d(72vw, 28vh, 0); }
      100% { transform: translate3d(8vw, 10vh, 0); }
    }
    
    .wave {
      position: absolute;
      left: 0;
      right: 0;
      bottom: -8vh;
      height: 36vh;
      background:
        radial-gradient(closest-side at 20% 50%, rgba(255,255,255,0.09), transparent 60%),
        radial-gradient(closest-side at 80% 50%, rgba(255,255,255,0.09), transparent 60%);
      filter: blur(16px);
      transform: translateZ(-200px);
      will-change: transform;
      animation: waveFloat 14s ease-in-out infinite;
    }
    
    @keyframes waveFloat {
      0%, 100% { transform: translateY(0) translateZ(-200px); }
      50% { transform: translateY(-10px) translateZ(-200px); }
    }
    
    /* ×”×•×¤×¢×ª ×‘×œ×•×§×™× */
    .appear {
      opacity: 0;
      transform: translateY(14px);
      will-change: opacity, transform;
    }
    
    .appear.in {
      opacity: 1;
      transform: translateY(0);
      transition: opacity .5s ease, transform .5s ease;
    }
    
    /* Hero */
    .hero {
      text-align: center;
      padding: 5rem 1rem 2rem;
    }
    
    .title3d {
      display: inline-block;
      font-size: clamp(2rem, 5vw, 4rem);
      letter-spacing: .6px;
      background: linear-gradient(90deg, #fff, #e7fffb 30%, #ffe1ec 60%, #fff 90%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 2px 0 rgba(0,0,0,0.3), 0 0 14px rgba(0,255,225,.35), 0 0 24px rgba(255,77,143,.30);
    }
    
    .hero p {
      max-width: 900px;
      margin: 1rem auto 2rem;
      font-size: 1.15rem;
      color: var(--muted);
    }
    
    /* ×›×¤×ª×•×¨×™× */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: .9rem 1.4rem;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border: 1px solid var(--border);
      color: #fff;
      text-decoration: none;
      margin: .4rem;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      transition: transform .2s ease, box-shadow .2s, background .2s;
      cursor: pointer;
      font-family: inherit;
      font-size: 1rem;
      line-height: 1;
    }
    
    .btn.primary {
      background: linear-gradient(135deg, var(--accent), #ff7bb0);
      box-shadow: 0 8px 24px rgba(255,77,143,.45);
    }
    
    .btn.success {
      background: linear-gradient(135deg, var(--accent3), #a9ff58);
      color: #102b00;
      font-weight: 700;
    }
    
    .btn.info {
      background: linear-gradient(135deg, var(--info), #7bd3ff);
    }
    
    .btn.warn {
      background: linear-gradient(135deg, var(--accent4), #ffa502);
      color: #1f1400;
      font-weight: 700;
    }
    
    .btn:hover {
      transform: translate3d(0, -3px, 0);
    }
    
    .btn:active {
      transform: translate3d(0, 0, 0);
    }
    
    .btn::after {
      content: "";
      position: absolute;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255,255,255,.7);
      transform: translate3d(var(--rx, 0), var(--ry, 0), 0) scale(0);
      opacity: 0;
      pointer-events: none;
      transition: transform .6s ease, opacity .9s ease;
    }
    
    .btn.rippling::after {
      transform: translate3d(var(--rx, 0), var(--ry, 0), 0) scale(22);
      opacity: .22;
    }
    
    /* ×›×¨×˜×™×¡×™× */
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.2rem;
      margin: 1rem 0 2rem;
    }
    
    .card {
      background: var(--glass);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: var(--radius);
      padding: 1.3rem;
      backdrop-filter: blur(12px);
      transition: transform .2s ease, box-shadow .2s;
      box-shadow: 0 8px 28px rgba(0,0,0,.25);
      color: #fff;
    }
    
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 36px rgba(0,0,0,.35);
    }
    
    .card h3 {
      margin: 0 0 .6rem;
      font-size: 1.25rem;
      color: #fff;
    }
    
    .card p {
      color: #eaeaea;
    }
    
    /* ×‘×¨×™ ×”×ª×§×“××•×ª ×•×ª×’×™× */
    .progress-wrap {
      margin: 1.2rem 0;
      padding: 1rem;
      background: var(--glass-strong);
      border: 1px solid var(--border);
      border-radius: 12px;
    }
    
    .progress-label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: .6rem;
    }
    
    .progress-bar {
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.12);
      overflow: hidden;
    }
    
    .progress-bar>div {
      height: 100%;
      background: linear-gradient(90deg, #00ffe1, #ff4d8f);
      width: 0%;
      transition: width .4s ease;
    }
    
    .badges {
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
      margin-top: .6rem;
    }
    
    .badge {
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: .2rem .6rem;
      background: rgba(255,255,255,0.08);
      font-size: 0.85rem;
    }
    
    /* ××©×™××•×ª */
    .task {
      margin: 2rem 0;
      padding: 1.5rem;
      border-radius: var(--radius);
      background: var(--glass-strong);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: var(--shadow);
      color: #fff;
    }
    
    .task h2 {
      margin: 0 0 .6rem;
    }
    
    .task p {
      color: #eaeaea;
    }
    
    .task ol {
      margin: .6rem 0 0;
      padding-inline-start: 1.2rem;
    }
    
    .task li {
      margin: .45rem 0;
    }
    
    .task ul {
      margin: .3rem 0 .6rem;
      padding-inline-start: 1.2rem;
    }
    
    .task code {
      background: rgba(0,0,0,.35);
      padding: .2rem .4rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.15);
      display: inline-block;
      direction: ltr;
      color: #fff;
      font-family: 'Courier New', monospace;
    }
    
    /* ××“×¨×™×š AI */
    .guide {
      margin: 1.5rem 0;
      padding: 1.5rem;
      border-radius: var(--radius);
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: var(--shadow);
      color: #fff;
    }
    
    .guide h2 {
      margin: 0 0 .6rem;
    }
    
    .guide p {
      color: #eaeaea;
    }
    
    .prompt {
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 12px;
      padding: .8rem;
      margin: .6rem 0;
      color: #fff;
    }
    
    .prompt code {
      display: block;
      white-space: pre-wrap;
      line-height: 1.5;
      color: #fff;
      font-family: 'Courier New', monospace;
    }
    
    /* ××©×—×§ ×§×œ×¤×™× */
    .game {
      margin: 1.5rem 0;
      text-align: center;
      color: #fff;
    }
    
    .deck {
      display: flex;
      flex-wrap: wrap;
      gap: .8rem;
      justify-content: center;
      margin-top: 1rem;
    }
    
    .game-card {
      min-width: 260px;
      max-width: 320px;
      flex: 1 1 260px;
      background: var(--glass-strong);
      border: 1px solid rgba(255,255,255,.22);
      border-radius: 14px;
      padding: 1rem;
      text-align: right;
      box-shadow: 0 10px 28px rgba(0,0,0,.28);
      transition: transform .2s ease, opacity .2s ease;
      color: #fff;
    }
    
    .game-card.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    .game-card.hide {
      transform: translateY(8px);
      opacity: .0;
    }
    
    .answer-area {
      margin-top: 1rem;
      text-align: right;
      background: rgba(255,255,255,0.08);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1rem;
    }
    
    textarea.answer {
      width: 100%;
      padding: .6rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.1);
      color: #fff;
      font-family: inherit;
    }
    
    .xp {
      display: inline-flex;
      align-items: center;
      gap: .4rem;
      background: rgba(0,255,225,.18);
      border: 1px solid rgba(0,255,225,.35);
      color: #eafffb;
      border-radius: 999px;
      padding: .2rem .6rem;
      font-weight: 600;
      font-size: .95rem;
    }
    
    /* ×©×™×ª×•×£ + Leaderboard */
    .share {
      margin: 1.5rem 0;
      text-align: center;
      color: #fff;
    }
    
    .share input {
      min-width: 280px;
      max-width: 520px;
      width: 60%;
      padding: .6rem;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.1);
      color: #fff;
      outline: none;
      transition: box-shadow .2s ease;
      font-family: inherit;
    }
    
    .share input::placeholder {
      color: #ddd;
    }
    
    .share input:focus {
      box-shadow: 0 0 0 3px rgba(0,255,225,.22);
    }
    
    .leaderboard {
      margin: 1.5rem 0;
      padding: 1.4rem;
      border-radius: 16px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    .leaderboard h2 {
      text-align: center;
      margin: .2rem 0 1rem;
    }
    
    .leaderboard ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: .4rem;
    }
    
    .leaderboard li {
      background: rgba(255,255,255,.10);
      padding: .6rem .8rem;
      border-radius: 12px;
      color: #fff;
    }
    
    /* ×¤×•×¡×˜-×—×™×‘×•×¨ + ×”×¦×‘×¢×” */
    .post-connect {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      display: none;
      color: #fff;
    }
    
    .vote {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
      display: none;
    }
    
    .vote input {
      padding: .6rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.1);
      color: #fff;
      margin: .3rem 0;
      width: 100%;
      font-family: inherit;
    }
    
    /* ×¤×¨×•×¤×™×œ ××™×©×™, ×¦'××˜, ×’×¨×£, ×”×™×©×’×™× */
    .profile {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    .profile-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }
    
    .profile-card {
      background: rgba(255,255,255,.10);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1rem;
    }
    
    .chat {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    .chat-box {
      height: 240px;
      overflow-y: auto;
      background: rgba(255,255,255,.08);
      padding: 1rem;
      border-radius: 12px;
    }
    
    .chat-input {
      display: flex;
      gap: .6rem;
      margin-top: .6rem;
    }
    
    .chat-input input {
      flex: 1;
      padding: .6rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.25);
      background: rgba(255,255,255,.1);
      color: #fff;
      font-family: inherit;
    }
    
    .graph {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    .achievements {
      margin: 1.5rem 0;
      padding: 1.2rem;
      border-radius: 16px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    /* ××“××™×Ÿ */
    .admin {
      margin: 2rem 0;
      padding: 1rem;
      border-radius: 14px;
      background: rgba(255,255,255,.12);
      border: 1px solid rgba(255,255,255,.18);
      color: #fff;
    }
    
    .admin-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: .8rem;
    }
    
    .admin-card {
      background: rgba(255,255,255,.10);
      padding: .8rem;
      border-radius: 10px;
      color: #fff;
    }
    
    footer {
      text-align: center;
      margin: 2rem 0 1rem;
      opacity: .9;
      color: #fff;
    }
    
    /* ×§×•×“ ×¨×¥ - ×× ×™××¦×™×” ×œ×ª×¦×•×’×” ×‘×©×™×ª×•×¤×™× */
    .code-running {
      position: relative;
      overflow: hidden;
      border-radius: var(--radius);
      background: #0a0e23;
      border: 1px solid rgba(0, 255, 225, 0.3);
      box-shadow: 0 0 30px rgba(0, 255, 225, 0.2);
      margin: 2rem 0;
    }
    
    .code-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1.2rem;
      background: rgba(0, 0, 0, 0.4);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .code-title {
      font-weight: 600;
      color: var(--accent2);
    }
    
    .code-controls {
      display: flex;
      gap: 0.5rem;
    }
    
    .code-control {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    
    .code-control.close {
      background: var(--error);
    }
    
    .code-control.minimize {
      background: var(--warning);
    }
    
    .code-control.maximize {
      background: var(--success);
    }
    
    .code-content {
      padding: 1.5rem;
      font-family: 'Courier New', monospace;
      font-size: 1.1rem;
      line-height: 1.6;
      color: #e6f0ff;
      position: relative;
      overflow: hidden;
    }
    
    .code-line {
      display: flex;
      margin-bottom: 0.5rem;
      opacity: 0;
      animation: typeIn 0.5s forwards;
    }
    
    .line-number {
      color: #6c7293;
      min-width: 3rem;
      text-align: right;
      padding-right: 1rem;
      user-select: none;
    }
    
    .line-content {
      flex: 1;
    }
    
    .code-cursor {
      display: inline-block;
      width: 8px;
      height: 1.2em;
      background: var(--accent2);
      animation: blink 1s infinite;
      vertical-align: middle;
      margin-left: 2px;
    }
    
    @keyframes typeIn {
      to {
        opacity: 1;
      }
    }
    
    @keyframes blink {
      0%, 50% {
        opacity: 1;
      }
      51%, 100% {
        opacity: 0;
      }
    }
    
    .share-preview {
      margin: 2rem 0;
      text-align: center;
    }
    
    .share-preview h3 {
      margin-bottom: 1rem;
      color: var(--accent2);
    }
    
    /* ×× ×™××¦×™×•×ª ×—×“×©×•×ª */
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 225, 0.5); }
      50% { box-shadow: 0 0 20px rgba(0, 255, 225, 0.8); }
    }
    
    .floating {
      animation: float 6s ease-in-out infinite;
    }
    
    .glowing {
      animation: glow 2s ease-in-out infinite;
    }
    
    /* ×¨×¡×¤×•× ×¡×™×‘×™×•×ª */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .features {
        grid-template-columns: 1fr;
      }
      
      .share input {
        width: 100%;
        min-width: auto;
      }
      
      .code-content {
        padding: 1rem;
        font-size: 0.9rem;
      }
    }
    
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: .001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: .001ms !important;
      }
    }
  </style>
</head>
<body>
  <!-- ×¨×§×¢ ×—×œ×§ -->
  <div class="bg" aria-hidden="true">
    <canvas id="particles"></canvas>
    <div class="wave"></div>
    <div class="orb"></div>
    <div class="orb orb2"></div>
  </div>

  <div class="container">
    <!-- Hero -->
    <section class="hero appear section">
      <h1 class="title3d">ğŸ® NIFTII â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</h1>
      <p>×¨× ×”, ×›××Ÿ ××ª×—×™×œ ×”××¡×¢ ×©×œ×š: ×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, ×¦×‘×™×¨×ª XP, ×”×–×× ×ª ×—×‘×¨×™× ×¢× ×œ×™× ×§ ××™×©×™ ×•×—×™×‘×•×¨ ×“×£ ×”× ×—×™×ª×” ×©×œ×š â€” ×”×›×œ × ×’×™×©, ×¦×‘×¢×•× ×™ ×•×—×œ×§.</p>

      <div role="group" aria-label="×¤×¢×•×œ×•×ª ×¨××©×•× ×™×•×ª">
        <a class="btn primary" href="https://github.com/signup" target="_blank" rel="noopener" data-track="signup" aria-label="×”×¨×©××” ×œ×’×™×˜×”××‘">ğŸ§‘â€ğŸš€ ×”×™×¨×©× ×œ×’×™×˜×”××‘</a>
        <a class="btn" href="https://github.com/new" target="_blank" rel="noopener" data-track="newrepo" aria-label="×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×—×“×© ×‘×’×™×˜×”××‘">ğŸ“¦ ×¤×ª×— ××ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ×©×œ×š</a>
        <button class="btn" id="connectRepoBtn" title="×—×™×‘×•×¨ ×“×£ ×”× ×—×™×ª×” ×œ×¤×¨×•×™×§×˜ ×©×œ×š" aria-label="×—×™×‘×•×¨ ×“×£ ×”× ×—×™×ª×”">ğŸ”— ×—×‘×¨ ××ª ×”×“×£ ×œ×¤×¨×•×™×§×˜ ×©×œ×š</button>
        <button class="btn info" id="toggleTheme">ğŸŒ“ ××¦×‘ ×›×”×”/×‘×”×™×¨</button>
      </div>

      <div class="progress-wrap" id="progressWrap">
        <div class="progress-label">
          <strong>×”×ª×§×“××•×ª ×‘××©×™××•×ª</strong>
          <span class="xp" id="xpBadgeTop">XP: 0</span>
        </div>
        <div class="progress-bar"><div id="progressBarInner"></div></div>
        <div class="badges" id="badgesWrap">
          <span class="badge" id="badgeStart">×”×ª×—×œ×ª ×¤×¨×•×™×§×˜</span>
          <span class="badge" id="badgeConnect">×—×™×‘×•×¨ ×“×£</span>
          <span class="badge" id="badgeShare">×©×™×ª×•×£ ×¨××©×•×Ÿ</span>
          <span class="badge" id="badgeMint">×™×¦×™×¨×ª ×§×œ×£</span>
        </div>
      </div>
    </section>

    <!-- ×ª×¦×•×’×ª ×§×•×“ ×¨×¥ ×œ×©×™×ª×•×£ -->
    <section class="share-preview appear section">
      <h3>ğŸš€ ×§×•×“ NIFTII ×¨×¥ ×‘×–××Ÿ ×××ª</h3>
      <div class="code-running floating">
        <div class="code-header">
          <div class="code-title">niftii.js</div>
          <div class="code-controls">
            <div class="code-control close"></div>
            <div class="code-control minimize"></div>
            <div class="code-control maximize"></div>
          </div>
        </div>
        <div class="code-content" id="runningCode">
          <!-- ×”×§×•×“ ×™×ª×•×•×¡×¤×” ×›××Ÿ ×‘××•×¤×Ÿ ×“×™× ××™ ×“×¨×š JavaScript -->
        </div>
      </div>
      <p class="muted">×–×•×”×™ ×ª×¦×•×’×” ×“×™× ××™×ª ×©×œ ×”×§×•×“ ×©×× ×™×¢ ××ª NIFTII - ××¢×¨×›×ª ×”×œ×™××•×“ ×”××©×—×§×™×ª</p>
    </section>

    <!-- ×¤×™×¦'×¨×™× -->
    <section class="features appear section" aria-label="×××¤×™×™× ×™ ×”××¢×¨×›×ª">
      <div class="card"><h3>ğŸ‘¨â€ğŸ’» ×œ××™×“×” ×—×•×•×™×™×ª×™×ª</h3><p>×¨× ×”, ×ª×œ××“ ×ª×›× ×•×ª ×“×¨×š ××©×—×§×™× ×•××ª×’×¨×™× â€” ×‘×œ×™ ×©×™×¢×•×¨×™× ××©×¢×××™×.</p></div>
      <div class="card"><h3>ğŸ¯ ××©×™××•×ª ××¢×©×™×•×ª</h3><p>×›×œ ×¦×¢×“ ×©×œ×š ××ª×•×¨×’× ×œ×§×•×“ ×××™×ª×™ ×©×¨×¥ ×‘×“×¤×“×¤×Ÿ ×•×‘××—×©×‘.</p></div>
      <div class="card"><h3>ğŸƒ ××•×¡×£ ×§×œ×¤×™×</h3><p>×”×’×¨×œ ×§×œ×¤×™ ××ª×’×¨/×˜×™×¤×™× ×•×”×¨×•×•×™×— XP ×œ×›×œ ××©×™××” ×©×ª×¤×ª×•×¨.</p></div>
      <div class="card"><h3>ğŸŒ ×¢×‘×•×“×” ×‘×¨×©×ª</h3><p>×—×‘×¨ ××ª ×”×¤×¨×•×™×§×˜×™× ×©×œ×š ×¢× ×—×‘×¨×™× ×œ×¨×©×ª ××©×•×ª×¤×ª.</p></div>
      <div class="card"><h3>ğŸ¤ ×©×™×ª×•×¤×™ ×¤×¢×•×œ×”</h3><p>×¢×‘×•×“ ×¢× ×—×‘×¨×™× ×¢×œ ×§×•×“ ××©×•×ª×£.</p></div>
      <div class="card"><h3>ğŸ—³ï¸ ×”×¦×‘×¢×•×ª ×œ×¨×©×ª</h3><p>×œ××—×¨ 24 ×©×™×ª×•×¤×™× ×ª×•×›×œ×• ×œ×”×¦×‘×™×¢ ×•×œ×‘×—×•×¨ ×©× ×œ×¨×©×ª.</p></div>
    </section>

    <!-- ××©×™××” ×¨××©×•× ×” -->
    <section class="task appear section" id="firstTask">
      <h2>ğŸš€ ××©×™××” #1 â€” ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ×©×œ×š ×‘×’×™×˜×”××‘</h2>
      <p>×¨× ×”, ×–×”×• ×”×¦×¢×“ ×”×¨××©×•×Ÿ ×©×œ×š. ×ª×•×š ×›××” ×“×§×•×ª ×™×”×™×” ×œ×š ×¤×¨×•×™×§×˜ ×‘×’×™×˜×”××‘ ×¢× ×“×£ × ×—×™×ª×” ××™×©×™.</p>
      <ol>
        <li><strong>×¤×ª×— ××©×ª××©:</strong> ×œ×—×¥ ×¢×œ <a href="https://github.com/signup" target="_blank" rel="noopener">×”×¨×©××” ×œ×’×™×˜×”××‘</a> ×•×¡×™×™× ××ª ×”×”×¨×©××”.</li>
        <li><strong>×¦×•×¨ ×¨×™×¤×• ×—×“×©:</strong> ×œ×—×¥ ×¢×œ <a href="https://github.com/new" target="_blank" rel="noopener">×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×—×“×©</a>.</li>
        <li><strong>×©× ×”×¨×™×¤×•:</strong> ×‘×—×¨ ×©× ×§×œ×™×˜, ×œ××©×œ <code>niftii-first-project</code>.</li>
        <li><strong>×”×¢×œ×” ××ª ×”×§×•×‘×¥ ×”×–×”:</strong> ×¤×ª×— ××ª ×”×¨×™×¤×• ×•×œ×—×¥ ×¢×œ <em>Add file â†’ Create new file</em> ××• <em>Upload files</em>, ×•×”×“×‘×§/×”×¢×œ×” ××ª ×”×§×•×‘×¥ ×”×–×” ×‘×©× <code>index.html</code>.</li>
        <li><strong>×”×¤×¢×œ GitHub Pages:</strong> Settings â†’ Pages â†’ Source: Deploy from a branch, Branch: main, Folder: root. ×©××•×¨ â€” ×ª×§×‘×œ ×›×ª×•×‘×ª URL ×©×œ ×”×“×£ ×©×œ×š.</li>
        <li><strong>×—×‘×¨ ××ª ×”×“×£ ×›××Ÿ:</strong> ×œ×—×¥ ×¢×œ "<em>×—×‘×¨ ××ª ×”×“×£ ×œ×¤×¨×•×™×§×˜ ×©×œ×š</em>" ×•×”×“×‘×§ ××ª ×”Ö¾URL ×©×§×™×‘×œ×ª. ×–×” ×™×¢× ×™×§ ×œ×š XP ×•×™××¤×©×¨ ×©×™×ª×•×£ ××”×™×¨.</li>
      </ol>
      <div class="progress-wrap">
        <div class="progress-label">
          <strong>×¡×˜×˜×•×¡ ××©×™××” #1</strong>
          <span class="xp" id="xpBadgeTask1">XP: 0</span>
        </div>
        <div class="progress-bar"><div id="task1Progress"></div></div>
      </div>
      <p class="xp">+50 XP ×¢×œ ×¤×ª×™×—×ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ</p>
    </section>

    <!-- ××“×¨×™×š AI (×¤×¨×•××¤×˜ ××¢×•×“×›×Ÿ ×œ××©×—×§ NFT) -->
    <section class="guide appear section" id="aiGuide">
      <h2>ğŸ“š ××“×¨×™×š â€” ×™×¦×™×¨×ª ×“×£ × ×—×™×ª×” ××™×©×™ ×‘×¢×–×¨×ª AI (××©×—×§ ×§×œ×¤×™× NFT)</h2>
      <p>×¨× ×”, ×ª×•×›×œ ×œ×”×©×ª××© ×‘Ö¾Copilot ××• ChatGPT ×›×“×™ ×œ×™×¦×•×¨ ×“×£ × ×—×™×ª×” ××™×©×™ ×©××ª×—×‘×¨ ×œ××©×—×§ ×”×§×œ×¤×™× ×©×œ×š. ×–×” ×”×¤×¨×•××¤×˜ ×”××•××œ×¥, ×”×¢×ª×§ (×œ×—×¦×™×” ××¨×•×›×” ×• CAT ××• COPY ××• CTRL+C) ×•×”×“×‘×§ (×œ×—×™×¦×” ××¨×•×” ×•××– PASET, ××• CTRL V) ××•×ª×• ×‘ AI ×œ×‘×—×™×¨×ª×š::</p>
      <div class="prompt" aria-label="×¤×¨×•××¤×˜ ×œ×“×•×’××”">
        <code>
×¦×•×¨ ×œ×™ ×“×£ × ×—×™×ª×” ××™×©×™ ×‘×¢×‘×¨×™×ª ×¢×:
- ×›×•×ª×¨×ª ×’×“×•×œ×” ×¢× ×©××™
- ×ª×™××•×¨ ×§×¦×¨ ×œ×“×£ ×”××©×—×§ ×©×œ×™ ×‘××©×—×§ ×”×§×œ×¤×™× ×©××©××’×¢ ××ª ×”××“×™× ×”
- ×ª××•× ×ª ××©×—×§ ×©×× ×™ ××¢×œ×” ×•×ª×”×¤×•×š ×œ×§×œ×£ ××©×—×§ ×œ××¡×—×¨ ×¢×œ×™×•, ×¢×œ ×¨×§×¢ ×¦×‘×¢×•× ×™
- ×”×¡×‘×¨ ×œ×—×‘×¨×™×™ ×œ××” ×›×“××™ ×œ×”× ×œ×¨×›×•×© ××ª ×”×§×œ×£ ×©×œ×™ ×•××” ×–×” ××©×—×§ ×¢×œ NFT, ×•×œ××” ×–×” ×™×”×™×” ×œ×”× ×¨×•×•×—×™ ×”×™×•× ×•×‘×¢×ª×™×“ (×”× ×™×•×›×œ×• ×œ××›×•×¨ ×©×•×‘ ××ª ×”×§×œ×£ ×©×¨×›×©×• ××× ×™)
- ×›×¤×ª×•×¨ "×¦×•×¨ ×§×©×¨" ×•×›×¤×ª×•×¨ "×¦×¤×” ×‘×¤×¨×•×™×§×˜ ×©×œ×™"
- ×˜×§×¡×˜ ×œ×‘×Ÿ ×•× ×™×’×•×“×™×•×ª ×˜×•×‘×”
- ×× ×™××¦×™×•×ª ×—×œ×§×•×ª (transform/opacity ×‘×œ×‘×“)
- ×©××™×¨×ª × ×ª×•× ×™ ×©×—×§× ×™× ×‘×©×¨×ª ×”××©×—×§ ×”×¨××©×™ https://rene-production.up.railway.app/
- ×”×•×¡×£ ×”×¢×¨×•×ª ×‘×§×•×“ ×©××¡×‘×™×¨×•×ª ×›×œ ×¨×›×™×‘
        </code>
      </div>
      <p>×œ××—×¨ ×™×¦×™×¨×ª ×”×§×•×“, ×”×¢×ª×§ ××•×ª×• ×œ×§×•×‘×¥ <code>index.html</code> ×‘×¨×™×¤×• ×©×œ×š, ×•×”×¤×¢×œ GitHub Pages ×›×“×™ ×œ×§×‘×œ ×œ×™× ×§ ××™×©×™.</p>

      <div class="profile">
        <h3>ğŸ“ ××™×œ×• ×§×‘×¦×™× ×œ×”×¢×ª×™×§ ×•××” ×”×ª×¤×§×™×“ ×©×œ×”×</h3>
        <div class="profile-grid">
          <div class="profile-card">
            <strong>index.html</strong>
            <p>××‘× ×” ×”×“×£: ×›×•×ª×¨×•×ª, ×˜×§×¡×˜×™×, ×ª××•× ×•×ª, ×›×¤×ª×•×¨×™×, ××–×•×¨×™ ××©×—×§ ×•×©×™×ª×•×£.</p>
          </div>
          <div class="profile-card">
            <strong>styles.css (××•×¤×¦×™×•× ×œ×™)</strong>
            <p>×¢×™×¦×•×‘: ×¦×‘×¢×™×, ×¤×¨×™×¡×”, ×× ×™××¦×™×•×ª, × ×’×™×©×•×ª.</p>
          </div>
          <div class="profile-card">
            <strong>app.js (××•×¤×¦×™×•× ×œ×™)</strong>
            <p>×œ×•×’×™×§×”: ××©×—×§ ×§×œ×¤×™×, ×©××™×¨×ª ×ª×©×•×‘×•×ª, ×©×™×ª×•×¤×™×, ×©××™×¨×ª × ×ª×•× ×™ ×©×—×§× ×™×.</p>
          </div>
        </div>
        <p>×× AI ××—×–×™×¨ ×›××” ×§×‘×¦×™× â€” ××¤×©×¨ ×œ××—×“ ××ª ×”×›×œ ×‘×ª×•×š <code>index.html</code> ×‘×¢×–×¨×ª ×ª×’×™ <code>&lt;style&gt;</code> ×•Ö¾<code>&lt;script&gt;</code>.</p>, ×•××¤×©×¨ ×œ×©××•×œ ××ª ×” AI ××™×š ×œ×¢×©×•×ª ×–××ª ×‘××“×•×™×™×§. 
      </div>
    </section>

    <!-- ××™× ×™-××©×—×§ ×§×œ×¤×™× + NFT ×“××” -->
    <section class="game appear section" aria-label="××™× ×™-××©×—×§ ×§×œ×¤×™×">
      <h2>ğŸ² ×œ×”×’×¨×œ×ª ×§×œ×£ ×ª×›× ×•×ª</h2>
      <div>
        <button class="btn primary" id="drawCardBtn" aria-label="×”×’×¨×œ ×§×œ×£ ×ª×›× ×•×ª">×”×’×¨×œ ×§×œ×£!</button>
        <button class="btn warn" id="mintNftBtn" title="×™×¦×™×¨×ª ×§×œ×£ NFT ×“××”">ğŸª™ ×™×¦×™×¨×ª ×§×œ×£ NFT (×“××”)</button>
      </div>
      <div class="deck" id="deck"></div>

      <div id="answerArea" class="answer-area" style="display:none;">
        <h3>âœï¸ ×¨× ×”, ×›×ª×•×‘ ×›××Ÿ ××ª ×”×¤×ª×¨×•×Ÿ ×©×œ×š:</h3>
        <textarea id="studentAnswer" class="answer" rows="5" placeholder="×”×§×œ×“ ×›××Ÿ ××ª ×”×¤×ª×¨×•×Ÿ ×©×œ×š ×œ×§×œ×£/××ª×’×¨"></textarea>
        <div style="margin-top:.6rem">
          <button class="btn success" id="submitAnswerBtn">×©×œ×— ×ª×©×•×‘×”</button>
          <button class="btn info" id="saveDraftBtn">×©××™×¨×” ×›×˜×™×•×˜×”</button>
        </div>
        <p class="xp" id="answerXP" style="display:none;">+10 XP ×¢×œ ×›×ª×™×‘×ª ×ª×©×•×‘×”</p>
      </div>

      <div id="nftArea" class="answer-area" style="display:none;">
        <h3>ğŸª™ ×™×¦×™×¨×ª ×§×œ×£ NFT (×“××”)</h3>
        <p>×”×¢×œ×” ×ª××•× ×” ×©×ª×”×¤×•×š ×œ×§×œ×£ ×“××”, ×”×•×¡×£ ×ª×™××•×¨ ×§×¦×¨ ×•××—×™×¨ ×”×ª×—×œ×ª×™ ×œ××¡×—×¨.</p>
        <input id="nftTitle" type="text" placeholder="×©× ×”×§×œ×£" class="answer" />
        <textarea id="nftDesc" class="answer" rows="4" placeholder="×ª×™××•×¨ ×”×§×œ×£ (×œ××” ×›×“××™ ×œ×¨×›×•×©)"></textarea>
        <input id="nftPrice" type="number" class="answer" placeholder="××—×™×¨ ×”×ª×—×œ×ª×™ (×“××”)" />
        <div style="margin-top:.6rem">
          <button class="btn success" id="mintBtn">×¦×•×¨ ×§×œ×£ ×“××”</button>
          <span class="xp" id="mintXP" style="display:none;">+15 XP ×¢×œ ×™×¦×™×¨×ª ×§×œ×£ ×“××”</span>
        </div>
        <div id="mintResult" style="margin-top:.6rem"></div>
      </div>
    </section>

    <!-- ×—×™×“×•×Ÿ ×ª×›× ×•×ª -->
    <section class="achievements appear section" id="quizSection">
      <h2>ğŸ§‘â€ğŸ“ ×—×™×“×•×Ÿ ×ª×›× ×•×ª</h2>
      <p>×¢× ×” ×¢×œ ×©××œ×•×ª ×•×§×‘×œ XP ×¢×œ ×ª×©×•×‘×•×ª × ×›×•× ×•×ª. ×–×” ×¢×•×–×¨ ×œ×š ×œ×”×©×ª×¤×¨ ×‘×§×•×“ ×•×œ×¦×‘×•×¨ × ×§×•×“×•×ª.</p>
      <button class="btn primary" id="startQuizBtn">×”×ª×—×œ ×—×™×“×•×Ÿ</button>
      <div id="quizArea" style="display:none;margin-top:.8rem;">
        <p id="quizQuestion"></p>
        <div id="quizOptions" style="display:grid;gap:.5rem;"></div>
        <div style="margin-top:.6rem">
          <button class="btn success" id="submitQuizBtn">×©×œ×— ×ª×©×•×‘×”</button>
          <span class="xp" id="quizXP" style="display:none;margin-inline-start:.6rem;">+5 XP ×ª×©×•×‘×” × ×›×•× ×”</span>
        </div>
        <p id="quizFeedback" style="margin-top:.6rem;color:#e6f0ff;"></p>
      </div>
    </section>

    <!-- ×¦'××˜ ×—×™ -->
    <section class="chat appear section" id="chatSection">
      <h2>ğŸ’¬ ×¦'××˜ ×—×™</h2>
      <div class="chat-box" id="chatMessages" aria-live="polite"></div>
      <div class="chat-input">
        <input id="chatInput" type="text" placeholder="×›×ª×•×‘ ×”×•×“×¢×” ×œ×—×‘×¨×™×..." />
        <button class="btn info" id="sendChatBtn">×©×œ×—</button>
      </div>
    </section>

    <!-- ×’×¨×£ ×©×™×ª×•×¤×™× -->
    <section class="graph appear section" id="graphSection">
      <h2>ğŸ“Š ×’×¨×£ ×©×™×ª×•×¤×™×</h2>
      <canvas id="shareGraph" width="800" height="320" style="max-width:100%;border-radius:12px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18)"></canvas>
    </section>

    <!-- ×”×™×©×’×™× -->
    <section class="achievements appear section" id="achievementsSection">
      <h2>ğŸ… ×”×™×©×’×™×</h2>
      <div class="badges" id="achievementsBadges">
        <span class="badge" id="badgeStart">×”×ª×—×œ×ª ×¤×¨×•×™×§×˜</span>
        <span class="badge" id="badgeShare">×©×™×ª×•×£ ×¨××©×•×Ÿ</span>
        <span class="badge" id="badgeMint">×™×¦×™×¨×ª ×§×œ×£ NFT</span>
        <span class="badge" id="badgeVote">×”×¦×‘×¢×” ×œ×¨×©×ª</span>
      </div>
    </section>

    <!-- ×©×™×ª×•×£ -->
    <section class="share appear section" aria-label="×©×™×ª×•×£ ×”×“×£ ×”××™×©×™">
      <h2>ğŸ”— ×©×ª×£ ××ª ×”×¢××•×“ ×©×œ×š</h2>
      <p>××—×¨×™ ×©×—×™×‘×¨×ª ××ª ×“×£ ×”× ×—×™×ª×”, ×©×ª×£ ××•×ª×• ×¢× ×—×‘×¨×™× ×•×§×‘×œ XP ×¢×œ ×›×œ ×”×¦×˜×¨×¤×•×ª! ××—×¨×™ 24 ×©×™×ª×•×¤×™× â€” ×ª×™×¤×ª×— ×”×¦×‘×¢×” ×œ×©× ×”×¨×©×ª.</p>
      <div>
        <input id="shareUrl" type="text" placeholder="×”×“×‘×§ ×›××Ÿ ××ª ×›×ª×•×‘×ª ×”×“×£ ×©×œ×š (GitHub Pages)" aria-label="×›×ª×•×‘×ª ×”×“×£ ×©×œ×š"/>
        <button class="btn" id="saveShareUrl" aria-label="×©××•×¨ ×›×ª×•×‘×ª">ğŸ’¾ ×©××•×¨ ×›×ª×•×‘×ª</button>
        <button class="btn" id="copyShareUrl" aria-label="×”×¢×ª×§ ×§×™×©×•×¨ ×œ×©×™×ª×•×£">ğŸ“£ ×”×¢×ª×§ ×§×™×©×•×¨ ×œ×©×™×ª×•×£</button>
      </div>
      <p class="xp" style="margin-top:.8rem" id="shareCountLabel">×©×™×ª×•×¤×™×: 0 | +10 XP ×¢×œ ×©×™×ª×•×£ ×¨××©×•×Ÿ</p>
    </section>

    <!-- ×¤×•×¡×˜-×—×™×‘×•×¨ -->
    <section class="post-connect appear section" id="postConnect" aria-label="×œ××—×¨ ×—×™×‘×•×¨ ×”×“×£">
      <h2>ğŸ‰ ×¨× ×”, ×”×“×£ ×©×œ×š ××—×•×‘×¨</h2>
      <p>×¢×›×©×™×• ×ª×•×›×œ ×œ×”×–××™×Ÿ ×—×‘×¨×™×. ×›×œ ×—×‘×¨ ×—×“×© ×©×™×¦×˜×¨×£ ×™×§×‘×œ ××ª ×”×¢××•×“ ×”×–×” ×•×™×¤×ª×— ×¤×¨×•×™×§×˜ ××™×©×™ ××©×œ×•. ×œ××—×¨ 24 ×©×™×ª×•×¤×™× ×ª×•×›×œ×• ×œ×”×¦×‘×™×¢ ×•×œ×‘×—×•×¨ ×©× ×œ×¨×©×ª.</p>
      <div style="margin:.6rem 0">
        <button class="btn success" id="inviteBtn" title="×œ×™× ×§ ×”×–×× ×” ××™×©×™ ×œ×—×‘×¨" aria-label="×¦×•×¨ ×œ×™× ×§ ×”×–×× ×” ××™×©×™">ğŸŸï¸ ×¦×•×¨ ×œ×™× ×§ ×”×–×× ×” ××™×©×™</button>
        <span class="xp" id="xpBadge" aria-live="polite">XP: 0</span>
      </div>
    </section>

    <!-- ×”×¦×‘×¢×” ×œ×©× ×”×¨×©×ª -->
    <section class="vote appear section" id="voteSection">
      <h2>ğŸ—³ï¸ ×”×¦×‘×¢×” ×œ×©× ×”×¨×©×ª</h2>
      <p>×”×’×¢×ª× ×œÖ¾24 ×©×™×ª×•×¤×™×! ×¢×›×©×™×• ××¤×©×¨ ×œ×”×¦×™×¢ ×©× ×œ×¨×©×ª ×•×œ×”×¦×‘×™×¢ ×™×—×“.</p>
      <input id="networkNameProposal" type="text" placeholder="×”×¦×™×¢×• ×©× ×œ×¨×©×ª (×œ××©×œ: NIFTII-NATION)" />
      <div style="margin-top:.6rem">
        <button class="btn primary" id="submitVoteBtn">×©×œ×— ×”×¦×¢×”</button>
        <button class="btn info" id="seeVotesBtn">×”×¦×’ ×”×¦×‘×¢×•×ª</button>
      </div>
      <div id="votesResult" style="margin-top:.6rem"></div>
    </section>

    <!-- ×œ×•×— ××•×‘×™×œ×™× ×××™×ª×™ -->
    <section class="leaderboard appear section" aria-label="×œ×•×— ××•×‘×™×œ×™×">
      <h2>ğŸ† ×œ×•×— ××•×‘×™×œ×™×</h2>
      <ul id="leaderList"></ul>
      <small style="opacity:.9;color:#eaeaea">×”× ×ª×•× ×™× ×™××©×›×• ××”×©×¨×ª ×›×“×™ ×œ×¢×§×•×‘ ××—×¨×™ ×”×”×ª×§×“××•×ª ×©×œ×š ×•×©×œ ×—×‘×¨×™×™×š ×›×—×œ×§ ××”××©×—×§, ×•×›××Ÿ ×™×•×¦×’ ×œ×š ×›××” ×—×‘×¨×™× ×”×¦×˜×¨×¤×• ×“×¨×›×š. ×–×” × ×§×¨× ×¢×¦×™ ×××¨×§×œ ×¢×œ ×©× ×”××ª××˜×™×§××™ ×¨×œ×£ ××¨×§×œ https://he.wikipedia.org/wiki/%D7%A2%D7%A5_%D7%9E%D7%A8%D7%A7%D7%9C.</small>
    </section>

    <!-- ×¤×¨×•×¤×™×œ ××™×©×™ ×©×œ ×¨× ×” -->
    <section class="profile appear section" id="profileSection">
      <h2>ğŸ§‘â€ğŸ“ ×¤×¨×•×¤×™×œ ××™×©×™ â€” ×¨× ×”</h2>
      <div class="profile-grid">
        <div class="profile-card">
          <strong>×©× ××œ×</strong>
          <input id="studentName" class="answer" type="text" placeholder="×”×§×œ×“ ××ª ×©××š" />
        </div>
        <div class="profile-card">
          <strong>×ª×™××•×¨ ×§×¦×¨</strong>
          <textarea id="studentBio" class="answer" rows="3" placeholder="×›×ª×•×‘ ×œ××” ××ª×” ××•×”×‘ ×œ×ª×›× ×ª ×•×œ×©×—×§ ×‘××©×—×§ ×”×§×œ×¤×™×"></textarea>
        </div>
        <div class="profile-card">
          <strong>×ª××•× ×ª ×¤×¨×•×¤×™×œ (URL)</strong>
          <input id="studentAvatar" class="answer" type="text" placeholder="×”×“×‘×§ ×§×™×©×•×¨ ×œ×ª××•× ×”" />
        </div>
        <div class="profile-card">
          <button class="btn success" id="saveProfileBtn">ğŸ’¾ ×©××•×¨ ×¤×¨×•×¤×™×œ</button>
          <span class="xp" id="profileXP" style="display:none;">+5 XP ×¢×œ ×¢×“×›×•×Ÿ ×¤×¨×•×¤×™×œ</span>
        </div>
      </div>
    </section>

    <!-- ××“××™×Ÿ -->
    <section class="admin appear section" id="adminPanel" style="display:none" aria-label="×œ×•×— ××“××™×Ÿ">
      <h2>ğŸ› ï¸ ××“××™×Ÿ â€” ××¢×§×‘ ×”×¤×¦×” ×•×”×ª×§×“××•×ª</h2>
      <div class="admin-grid">
        <div class="admin-card"><strong>×ª×œ××™×“×™×</strong><div id="adminStudentsCount">0</div><small>× ×¨×©××• ×•×”×–×™× ×• URL</small></div>
        <div class="admin-card"><strong>×©×™×ª×•×¤×™×</strong><div id="adminShares">0</div><small>×”×¢×ª×§×•×ª ×§×™×©×•×¨ ×•×©×™×ª×•×¤×™× ×¨×©×•××™×</small></div>
        <div class="admin-card"><strong>XP ××¦×˜×‘×¨</strong><div id="adminTotalXP">0</div><small>×¡×›×•× ×œ×¤×™ ×©×¨×ª</small></div>
        <div class="admin-card"><strong>××©×™××•×ª ×”×•×©×œ××•</strong><div id="adminTasks">0</div><small>×¤×ª×™×—×ª ×¨×™×¤×• + ×—×™×‘×•×¨ ×“×£</small></div>
      </div>
      <div style="margin-top:.8rem">
        <button class="btn" id="exportData">â¬‡ï¸ ×™×™×¦× × ×ª×•× ×™× (JSON)</button>
      </div>
      <small style="display:block;margin-top:.6rem;opacity:.9;color:#eaeaea">×›×“×™ ×œ×¤×ª×•×— ××ª ×¤×× ×œ ×”××“××™×Ÿ: ×”×•×¡×™×¤×• ?admin=1 ×œÖ¾URL ×©×œ ×”×¢××•×“.</small>
    </section>

    <footer>
      <p>Â© 2025 NIFTII â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</p>
    </footer>
  </div>

  <audio id="popSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3" preload="auto"></audio>

  <script>
    /* ×”×’×“×¨×•×ª API â€” ×©×¨×ª ×¨××©×™ ×œ×©××™×¨×ª × ×ª×•× ×™× */
    const API_BASE = 'https://rene-production.up.railway.app';
    const ENDPOINTS = {
      signup: API_BASE + '/api/signup',
      newRepo: API_BASE + '/api/tasks/first-repo',
      connectLanding: API_BASE + '/api/tasks/connect-landing',
      shareCopy: API_BASE + '/api/share/copy',
      shareCreate: API_BASE + '/api/share',
      inviteLink: API_BASE + '/api/invite',
      progress: API_BASE + '/api/progress',
      leaderboard: API_BASE + '/api/leaderboard',
      referral: API_BASE + '/api/referral',
      answers: API_BASE + '/api/answers',
      profile: API_BASE + '/api/profile',
      votes: API_BASE + '/api/votes',
      chat: API_BASE + '/api/chat',
      sharesGraph: API_BASE + '/api/shares-graph'
    };

    /* ×–×™×”×•×™ ××©×ª××© ××§×•××™ */
    const STORE_KEY = 'niftii_app';
    const DEFAULT_DATA = {
      userId:null, xp:0,
      tasks:{firstRepo:false,connectedLanding:false,firstShare:false},
      shareUrl:'', inviteUrl:'',
      sharesCount:0,
      answerDraft:'',
      student:{name:'×¨× ×”', bio:'', avatar:''}
    };
    const SFX = document.getElementById('popSound');

    function guid(){ return 'u_' + Math.random().toString(36).slice(2) + Date.now().toString(36); }
    function load(){ try{ const raw = localStorage.getItem(STORE_KEY); return raw ? JSON.parse(raw) : {...DEFAULT_DATA}; }catch(e){ return {...DEFAULT_DATA}; } }
    function save(d){ localStorage.setItem(STORE_KEY, JSON.stringify(d)); }

    async function ensureUser(){
      const d = load();
      if(!d.userId){
        d.userId = guid();
        save(d);
        try{
          const referrerId = new URLSearchParams(location.search).get('ref');
          await fetch(ENDPOINTS.signup, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, referrerId }) });
        }catch(err){}
      }
      return d.userId;
    }

    /* ×”×•×¤×¢×ª ×‘×œ×•×§×™× */
    function appearOnScroll(){
      const els = document.querySelectorAll('.appear');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ e.target.classList.add('in'); io.unobserve(e.target); }
        });
      }, {rootMargin:'-10% 0px -10% 0px', threshold:0.05});
      els.forEach(el=> io.observe(el));
    }

    /* ×—×œ×§×™×§×™× */
    function particles(){
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      function resize(){
        const dpr = window.devicePixelRatio || 1;
        canvas.width = window.innerWidth * dpr;
        canvas.height = window.innerHeight * dpr;
        ctx.setTransform(1,0,0,1,0,0);
        ctx.scale(dpr,dpr);
      }
      resize();
      window.addEventListener('resize', resize);

      const PCOUNT = 72;
      const ps = new Array(PCOUNT).fill(0).map(()=>({
        x: Math.random()*window.innerWidth,
        y: Math.random()*window.innerHeight,
        r: Math.random()*1.8 + 0.7,
        vx: (Math.random()-0.5)*0.3,
        vy: (Math.random()-0.5)*0.3,
        c: Math.random()<.5 ? 'rgba(0,255,225,.7)' : 'rgba(255,77,143,.7)'
      }));
      function step(){
        ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
        for(const p of ps){
          p.x += p.vx; p.y += p.vy;
          if(p.x<0||p.x>window.innerWidth) p.vx*=-1;
          if(p.y<0||p.y>window.innerHeight) p.vy*=-1;
          ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2); ctx.fillStyle = p.c; ctx.fill();
        }
        requestAnimationFrame(step);
      }
      step();
    }

    /* Ripple ×œ×œ×—×¦× ×™× */
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.btn');
      if(!btn) return;
      const rect = btn.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      btn.style.setProperty('--rx', x+'px');
      btn.style.setProperty('--ry', y+'px');
      btn.classList.add('rippling');
      setTimeout(()=> btn.classList.remove('rippling'), 320);
    }, {passive:true});

    /* ×¢×“×›×•×Ÿ XP ×•×‘×¨ ×”×ª×§×“××•×ª */
    function setXP(xp){
      const badge = document.getElementById('xpBadge');
      const badgeTop = document.getElementById('xpBadgeTop');
      const badgeTask1 = document.getElementById('xpBadgeTask1');
      if(badge) badge.textContent = 'XP: ' + xp;
      if(badgeTop) badgeTop.textContent = 'XP: ' + xp;
      if(badgeTask1) badgeTask1.textContent = 'XP: ' + xp;
    }

    function updateProgress(){
      const d = load();
      const total = 3;
      const done = (d.tasks.firstRepo?1:0) + (d.tasks.connectedLanding?1:0) + (d.tasks.firstShare?1:0);
      const percent = Math.round((done/total)*100);
      const bar = document.getElementById('progressBarInner');
      const barTask1 = document.getElementById('task1Progress');
      if(bar) bar.style.width = percent + '%';
      if(barTask1) barTask1.style.width = (d.tasks.firstRepo?100:0) + '%';

      const shareLabel = document.getElementById('shareCountLabel');
      if(shareLabel) shareLabel.textContent = `×©×™×ª×•×¤×™×: ${d.sharesCount} | +10 XP ×¢×œ ×©×™×ª×•×£ ×¨××©×•×Ÿ`;
      const vote = document.getElementById('voteSection');
      if(vote) vote.style.display = d.sharesCount >= 24 ? 'block' : 'none';

      document.getElementById('badgeStart').style.background = d.tasks.firstRepo ? 'rgba(0,255,225,.25)' : 'rgba(255,255,255,.08)';
      document.getElementById('badgeConnect').style.background = d.tasks.connectedLanding ? 'rgba(0,255,225,.25)' : 'rgba(255,255,255,.08)';
      document.getElementById('badgeShare').style.background = d.tasks.firstShare ? 'rgba(0,255,225,.25)' : 'rgba(255,255,255,.08)';
    }

    /* ×§×œ×¤×™× ×•××ª×’×¨×™× */
    const cards = [
      { title:"ğŸ’¡ ×¤×•× ×§×¦×™×” ×›×¤×•×œ 2", text:"×›×ª×‘×• ×¤×•× ×§×¦×™×” ×©××—×–×™×¨×” ××¡×¤×¨ ×›×¤×•×œ 2.", xp:5 },
      { title:"ğŸ”¥ × ×™×—×•×© ××¡×¤×¨×™×", text:"×¦×¨×• ××©×—×§ ×©××’×¨×™×œ ××¡×¤×¨ 1â€“50 ×•××ª× ×× ×—×©×™×.", xp:10 },
      { title:"ğŸ¨ ×¦×‘×¢ ×¨×§×¢ ×“×™× ××™", text:"×“×£ ×©××©× ×” ×¨×§×¢ ×›×œ 2 ×©× ×™×•×ª ×¢× JS.", xp:10 },
      { title:"ğŸ§© ×ª× ××™× ×¢× if", text:"×”×•×¡×™×¤×• ×‘×“×™×§×•×ª ×œ×•×’×™×•×ª ×œ×§×œ×˜ ×”××©×ª××©.", xp:5 },
      { title:"ğŸš€ ×œ×•×œ××” 1â†’10", text:"×¦×¨×• ×œ×•×œ××” ×©××“×¤×™×¡×” ××ª ×”××¡×¤×¨×™× 1 ×¢×“ 10.", xp:5 }
    ];

    function showCard(card){
      const deck = document.getElementById('deck');
      const el = document.createElement('div');
      el.className = 'game-card hide';
      el.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.4rem">
          <strong>${card.title}</strong>
          <span class="xp">+${card.xp} XP</span>
        </div>
        <div>${card.text}</div>
      `;
      deck.prepend(el);
      requestAnimationFrame(()=>{ el.classList.remove('hide'); el.classList.add('show'); });
      document.getElementById('answerArea').style.display = 'block';
      document.getElementById('studentAnswer').value = load().answerDraft || '';
      document.getElementById('submitAnswerBtn').onclick = ()=> submitAnswer(card.title);
      document.getElementById('saveDraftBtn').onclick = ()=> saveDraft();
    }

    async function drawCard(){
      const d = load();
      const i = Math.floor(Math.random() * cards.length);
      const c = cards[i];
      SFX.currentTime = 0; SFX.play();
      showCard(c);
      try{
        await fetch(ENDPOINTS.progress, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, xp:c.xp, event:'draw_card', title:c.title }) });
        await refreshProgress();
      }catch(err){}
    }

    async function submitAnswer(cardTitle){
      const d = load();
      const val = (document.getElementById('studentAnswer').value || '').trim();
      if(!val){ alert('× × ×œ×›×ª×•×‘ ×ª×©×•×‘×” ×œ×¤× ×™ ×”×©×œ×™×—×”.'); return; }
      try{
        await ensureUser();
        await fetch(ENDPOINTS.answers, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, cardTitle, answer:val }) });
        document.getElementById('answerXP').style.display = 'inline-block';
        alert('×ª×©×•×‘×ª×š × ×©××¨×”! ×§×™×‘×œ×ª +10 XP ğŸ‰');
        d.answerDraft = '';
        save(d);
        await refreshProgress();
      }catch(err){
        alert('×©××™×¨×ª ×”×ª×©×•×‘×” × ×›×©×œ×” ×›×¨×’×¢, × ×¡×” ×©×•×‘.');
      }
    }

    function saveDraft(){
      const d = load();
      d.answerDraft = (document.getElementById('studentAnswer').value || '').trim();
      save(d);
      alert('×”×˜×™×•×˜×” × ×©××¨×” ××§×•××™×ª.');
    }

    /* NFT ×“××” */
    function openMintNft(){
      document.getElementById('nftArea').style.display = 'block';
    }
    async function mintNft(){
      const title = (document.getElementById('nftTitle').value || '').trim();
      const desc = (document.getElementById('nftDesc').value || '').trim();
      const price = parseFloat(document.getElementById('nftPrice').value || '0');
      if(!title || !desc || !(price>0)){
        alert('× × ×œ××œ× ×©×, ×ª×™××•×¨ ×•××—×™×¨ ×ª×§×™×Ÿ.');
        return;
      }
      const d = load();
      document.getElementById('mintXP').style.display = 'inline-block';
      document.getElementById('mintResult').innerHTML = `
        <div class="card">
          <strong>×§×œ×£ ×“××” × ×•×¦×¨:</strong>
          <p>×©×: ${title}</p>
          <p>×ª×™××•×¨: ${desc}</p>
          <p>××—×™×¨ ×”×ª×—×œ×ª×™: ${price} (×“××”)</p>
        </div>
      `;
      try{
        await fetch(ENDPOINTS.progress, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, xp:15, event:'mint_nft_demo', title }) });
        await refreshProgress();
        document.getElementById('badgeMint').style.background = 'rgba(0,255,225,.25)';
      }catch(err){}
    }

    /* ××©×™××” ×¨××©×•× ×”: ×¡×™××•×Ÿ ×¤×ª×™×—×ª ×¨×™×¤×• */
    document.querySelectorAll('[data-track]').forEach(el=>{
      el.addEventListener('click', async ()=>{
        const d = load();
        const action = el.getAttribute('data-track');
        await ensureUser();
        if(action === 'signup'){
          try{ await fetch(ENDPOINTS.signup, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId }) }); }catch(err){}
        }
        if(action === 'newrepo' && !d.tasks.firstRepo){
          d.tasks.firstRepo = true; save(d);
          try{
            await fetch(ENDPOINTS.newRepo, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId }) });
            await refreshProgress();
          }catch(err){}
          setTimeout(()=> alert('×›×œ ×”×›×‘×•×“! +50 XP ×¢×œ ×¤×ª×™×—×ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ğŸ‰'), 30);
        }
      }, {passive:true});
    });

    /* ×—×™×‘×•×¨ ×“×£ × ×—×™×ª×” */
    const connectBtn = document.getElementById('connectRepoBtn');
    connectBtn.addEventListener('click', async ()=>{
      const url = prompt('×”×“×‘×§ ×›××Ÿ ××ª ×›×ª×•×‘×ª GitHub Pages ×©×œ ×”×¤×¨×•×™×§×˜ ×©×œ×š:');
      if(!url) return;
      await ensureUser();
      const d = load();
      d.shareUrl = url.trim(); d.tasks.connectedLanding = true; save(d);
      document.getElementById('shareUrl').value = d.shareUrl;
      try{
        await fetch(ENDPOINTS.connectLanding, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, url:d.shareUrl }) });
        await refreshProgress();
      }catch(err){}
      revealPostConnect();
      alert('×”×“×£ ×—×•×‘×¨ ×‘×”×¦×œ×—×”! × ×™×ª×Ÿ ×œ×©×ª×£ ×•×œ×¦×‘×•×¨ XP.');
    });

    /* ×©××™×¨×ª/×”×¢×ª×§×ª ×›×ª×•×‘×ª ×©×™×ª×•×£ */
    const saveShareBtn = document.getElementById('saveShareUrl');
    const copyShareBtn = document.getElementById('copyShareUrl');
    const shareInput = document.getElementById('shareUrl');

    saveShareBtn.addEventListener('click', async ()=>{
      const val = (shareInput.value || '').trim();
      if(!val){ alert('× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª ×ª×§×™× ×” ×©×œ GitHub Pages.'); return; }
      await ensureUser();
      const d = load();
      d.shareUrl = val; d.tasks.connectedLanding = true; save(d);
      try{
        await fetch(ENDPOINTS.connectLanding, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, url:d.shareUrl }) });
        await refreshProgress();
      }catch(err){}
      revealPostConnect();
      alert('× ×©××¨! ×¢×›×©×™×• ××¤×©×¨ ×œ×©×ª×£ ×‘×§×œ×™×§.');
    });

    copyShareBtn.addEventListener('click', async ()=>{
      const d = load();
      if(!d.shareUrl){ alert('××™×Ÿ ×›×ª×•×‘×ª ×©××•×¨×”. ×”×–×Ÿ ××ª ×›×ª×•×‘×ª ×”Ö¾GitHub Pages ×©×œ×š.'); return; }
      try{
        await navigator.clipboard.writeText(d.shareUrl);
        await ensureUser();
        d.sharesCount = (d.sharesCount || 0) + 1;
        d.tasks.firstShare = true;
        save(d);
        await fetch(ENDPOINTS.shareCopy, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId }) });
        await refreshProgress();
        updateProgress();
        alert('×”×§×™×©×•×¨ ×”×•×¢×ª×§! ×©×ª×£ ××•×ª×• ×‘×•×•×˜×¡××¤/×§×‘×•×¦×•×ª ğŸ˜‰');
      }catch(err){ alert('×œ× ×”×¦×œ×—×ª×™ ×œ×”×¢×ª×™×§. × ×¡×” ×™×“× ×™×ª.'); }
    });

    /* ×¤×•×¡×˜-×—×™×‘×•×¨: ×”×¦×’×” ×¨×§ ×œ××—×¨ ×—×™×‘×•×¨ URL */
    function revealPostConnect(){
      const post = document.getElementById('postConnect');
      post.style.display = 'block';
      post.classList.add('in');
    }

    /* ×œ×™× ×§ ×”×–×× ×” ××™×©×™ â€” ××—×¨×™ ×—×™×‘×•×¨ */
    const inviteBtn = document.getElementById('inviteBtn');
    inviteBtn?.addEventListener('click', async ()=>{
      await ensureUser();
      const d = load();
      try{
        const res = await fetch(ENDPOINTS.inviteLink, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId }) });
        const j = await res.json();
        const url = j.inviteUrl || (location.origin + location.pathname + '?ref=' + d.userId);
        d.inviteUrl = url; save(d);
        await navigator.clipboard.writeText(url);
        alert('×œ×™× ×§ ×”×”×–×× ×” ×”×•×¢×ª×§! ×©×œ×— ×œ×—×‘×¨×™×: ' + url);
      }catch(err){
        const url = location.origin + location.pathname + '?ref=' + d.userId;
        d.inviteUrl = url; save(d);
        await navigator.clipboard.writeText(url);
        alert('×œ×™× ×§ ×”×”×–×× ×” ×”×•×¢×ª×§! ×©×œ×— ×œ×—×‘×¨×™×: ' + url);
      }
    });

    /* ×¨×™×©×•× ×”×¦×˜×¨×¤×•×ª ×—×‘×¨ ×—×“×© (referral) */
    async function captureReferral(){
      const params = new URLSearchParams(location.search);
      const ref = params.get('ref');
      if(!ref) return;
      const myFingerprint = guid();
      try{
        await fetch(ENDPOINTS.referral, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ referrerId:ref, newUserFingerprint:myFingerprint }) });
      }catch(err){}
    }

    /* ×œ×•×— ××•×‘×™×œ×™× ××”×©×¨×ª ×‘×œ×‘×“ */
    async function renderLeaderboardServer(){
      try{
        const res = await fetch(ENDPOINTS.leaderboard);
        if(!res.ok) throw new Error('leaderboard not ok');
        const arr = await res.json();
        const list = document.getElementById('leaderList');
        list.innerHTML = arr.map(x=> `<li>${x.rankIcon || 'ğŸ”¹'} ${x.name} â€” ${x.xp} XP</li>`).join('');
      }catch(err){
        const list = document.getElementById('leaderList');
        list.innerHTML = `<li>××™×Ÿ × ×ª×•× ×™× ×–××™× ×™× ×›×¨×’×¢</li>`;
      }
    }

    /* ×”×¦×‘×¢×•×ª */
    async function submitVote(){
      const nameProposal = (document.getElementById('networkNameProposal').value || '').trim();
      if(!nameProposal){ alert('× × ×œ×”×¦×™×¢ ×©× ×œ×¨×©×ª.'); return; }
      const d = load();
      try{
        await ensureUser();
        await fetch(ENDPOINTS.votes, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, nameProposal }) });
        document.getElementById('votesResult').innerHTML = `<div class="card">×”×”×¦×¢×” × ×©×œ×—×”: ${nameProposal}</div>`;
        document.getElementById('badgeVote').style.background = 'rgba(0,255,225,.25)';
      }catch(err){
        alert('×©×œ×™×—×ª ×”×”×¦×¢×” × ×›×©×œ×” ×›×¨×’×¢, × ×¡×” ×©×•×‘.');
      }
    }
    async function seeVotes(){
      try{
        const res = await fetch(ENDPOINTS.votes);
        const arr = await res.json();
        document.getElementById('votesResult').innerHTML = arr.map(v=> `<div class="card">×©× ××•×¦×¢: ${v.name} â€” ×§×•×œ×•×ª: ${v.votes||0}</div>`).join('');
      }catch(err){
        document.getElementById('votesResult').innerHTML = `<div class="card">××™×Ÿ × ×ª×•× ×™ ×”×¦×‘×¢×•×ª ×–××™× ×™× ×›×¨×’×¢</div>`;
      }
    }
    document.getElementById('submitVoteBtn')?.addEventListener('click', submitVote);
    document.getElementById('seeVotesBtn')?.addEventListener('click', seeVotes);

    /* ×¤×¨×•×¤×™×œ ××™×©×™ ×©××™×¨×” */
    document.getElementById('saveProfileBtn')?.addEventListener('click', async ()=>{
      const d = load();
      d.student.name = (document.getElementById('studentName').value || '').trim() || '×¨× ×”';
      d.student.bio = (document.getElementById('studentBio').value || '').trim();
      d.student.avatar = (document.getElementById('studentAvatar').value || '').trim();
      save(d);
      document.getElementById('profileXP').style.display = 'inline-block';
      try{
        await ensureUser();
        await fetch(ENDPOINTS.profile, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, name:d.student.name, bio:d.student.bio, avatar:d.student.avatar }) });
        await refreshProgress();
      }catch(err){}
    });

    /* ××¦×‘ ×›×”×”/×‘×”×™×¨ */
    document.getElementById('toggleTheme')?.addEventListener('click', ()=>{
      const isLight = document.body.classList.toggle('light');
      if(isLight){
        document.body.style.background = 'linear-gradient(135deg,#f7f8fc,#dfe6ff)';
        document.body.style.color = '#111';
      }else{
        document.body.style.background =
          'radial-gradient(1200px 600px at 20% 10%, #2b1b56 0%, #0d1024 40%), linear-gradient(135deg, #0d1024, #1a1642)';
        document.body.style.color = '#fff';
      }
    });

    /* ×—×™×“×•×Ÿ ×ª×›× ×•×ª */
    const QUIZ = [
      { q:"××” ×ª×—×–×™×¨ ×”×¤×•× ×§×¦×™×” f(x)=x*2 ×¢×‘×•×¨ x=5?", opts:["5","10","2","20"], correct:1, explain:"x*2 ×¢×‘×•×¨ 5 ×”×•× 10." },
      { q:"××™×–×• ×œ×•×œ××” ××“×¤×™×¡×” 1 ×¢×“ 3?", opts:["for(i=1;i<=3;i++)","for(i=0;i<3;i++)","while(i<3)","for(i=3;i>=1;i--)"], correct:0, explain:"×œ×•×œ××ª for ×¢× ×”×ª×—×œ×” ×‘-1 ×•×¡×•×£ ×‘-3." },
      { q:"××” ×¢×•×©×” if (x > 0)?", opts:["×‘×•×“×§ ×× x ×§×˜×Ÿ ×××¤×¡","×‘×•×“×§ ×× x ×’×“×•×œ ×××¤×¡","×‘×•×“×§ ×× x ×©×•×•×” ×œ××¤×¡","××“×¤×™×¡ ××ª x"], correct:1, explain:"×ª× ××™ ×©×‘×•×“×§ ×”×× x ×’×“×•×œ ×××¤×¡." }
    ];
    let quizIndex = 0, selectedOpt = null;

    function startQuiz(){
      quizIndex = 0; selectedOpt = null;
      document.getElementById('quizArea').style.display='block';
      renderQuizQuestion();
    }
    function renderQuizQuestion(){
      const item = QUIZ[quizIndex];
      document.getElementById('quizQuestion').textContent = item.q;
      const wrap = document.getElementById('quizOptions');
      wrap.innerHTML = '';
      item.opts.forEach((opt, idx)=>{
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.textContent = opt;
        btn.onclick = ()=> { selectedOpt = idx; highlightOption(wrap, idx); };
        wrap.appendChild(btn);
      });
      document.getElementById('quizFeedback').textContent = '';
      document.getElementById('quizXP').style.display = 'none';
    }
    function highlightOption(wrap, idx){
      [...wrap.children].forEach((b,i)=> b.style.outline = i===idx ? '2px solid #00ffe1' : 'none');
    }
    async function submitQuiz(){
      const item = QUIZ[quizIndex];
      if(selectedOpt == null){ alert('× × ×œ×‘×—×•×¨ ×ª×©×•×‘×”.'); return; }
      const correct = selectedOpt === item.correct;
      document.getElementById('quizFeedback').textContent = correct ? '× ×›×•×Ÿ! ' + item.explain : '×œ× × ×›×•×Ÿ. ' + item.explain;
      if(correct){
        document.getElementById('quizXP').style.display = 'inline-block';
        const d = load();
        try{
          await ensureUser();
          await fetch(ENDPOINTS.progress, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, xp:5, event:'quiz_correct', title:item.q }) });
          await refreshProgress();
        }catch(err){}
      }
      quizIndex = (quizIndex + 1) % QUIZ.length;
      setTimeout(renderQuizQuestion, 700);
    }
    document.getElementById('startQuizBtn')?.addEventListener('click', startQuiz);
    document.getElementById('submitQuizBtn')?.addEventListener('click', submitQuiz);

    /* ×¦'××˜ ×—×™ */
    async function loadChat(){
      try{
        const res = await fetch(ENDPOINTS.chat);
        const arr = await res.json();
        const box = document.getElementById('chatMessages');
        box.innerHTML = arr.map(m=> `<div><strong>${m.name||'×—×‘×¨'}:</strong> ${m.message}</div>`).join('');
        box.scrollTop = box.scrollHeight;
      }catch(err){}
    }
    async function sendChat(){
      const val = (document.getElementById('chatInput').value || '').trim();
      if(!val) return;
      const d = load();
      try{
        await ensureUser();
        await fetch(ENDPOINTS.chat, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ userId:d.userId, message:val }) });
        document.getElementById('chatInput').value='';
        await loadChat();
      }catch(err){}
    }
    document.getElementById('sendChatBtn')?.addEventListener('click', sendChat);

    /* ×’×¨×£ ×©×™×ª×•×¤×™× */
    async function renderSharesGraph(){
      try{
        const res = await fetch(ENDPOINTS.sharesGraph);
        const arr = await res.json(); // [{t,count}]
        const canvas = document.getElementById('shareGraph');
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.strokeStyle = 'rgba(255,255,255,0.8)';
        ctx.lineWidth = 2;
        ctx.beginPath();
        const maxCount = Math.max(...arr.map(p=>p.count), 1);
        arr.forEach((p, i)=>{
          const x = (i/(arr.length-1)) * (canvas.width-40) + 20;
          const y = canvas.height - ((p.count/maxCount)* (canvas.height-40)) - 20;
          if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
        });
        ctx.stroke();
      }catch(err){}
    }

    /* ××“××™×Ÿ ××”×©×¨×ª */
    function isAdmin(){ return new URLSearchParams(location.search).get('admin') === '1'; }
    async function renderAdmin(){
      const panel = document.getElementById('adminPanel');
      if(!isAdmin()){ panel.style.display='none'; return; }
      panel.style.display='block';
      try{
        const res = await fetch(ENDPOINTS.progress);
        const data = await res.json();
        document.getElementById('adminStudentsCount').textContent = data.students || 0;
        document.getElementById('adminShares').textContent = data.shares || 0;
        document.getElementById('adminTotalXP').textContent = data.totalXP || 0;
        document.getElementById('adminTasks').textContent = data.tasksCompleted || 0;
        document.getElementById('exportData').onclick = async ()=>{
          const res2 = await fetch(ENDPOINTS.progress + '?export=1');
          const blob = await res2.blob();
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url; a.download = 'niftii_server_data.json'; a.click();
          URL.revokeObjectURL(url);
        };
      }catch(err){}
    }

    /* ×¨×¢× ×•×Ÿ XP/××¦×‘ ××”×©×¨×ª */
    async function refreshProgress(){
      try{
        const res = await fetch(ENDPOINTS.progress);
        const j = await res.json();
        setXP(j.xp || 0);
        updateProgress();
      }catch(err){
        updateProgress();
      }
    }

    /* ×× ×™××¦×™×™×ª ×§×•×“ ×¨×¥ */
    function initRunningCode() {
      const codeContent = document.getElementById('runningCode');
      const codeLines = [
        { number: 1, content: "// NIFTII - ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª", delay: 200 },
        { number: 2, content: "class NiftiiGame {", delay: 400 },
        { number: 3, content: "  constructor() {", delay: 600 },
        { number: 4, content: "    this.xp = 0;", delay: 800 },
        { number: 5, content: "    this.level = 1;", delay: 1000 },
        { number: 6, content: "    this.tasks = [];", delay: 1200 },
        { number: 7, content: "  }", delay: 1400 },
        { number: 8, content: "", delay: 1600 },
        { number: 9, content: "  addXP(points) {", delay: 1800 },
        { number: 10, content: "    this.xp += points;", delay: 2000 },
        { number: 11, content: "    this.checkLevelUp();", delay: 2200 },
        { number: 12, content: "    return this;", delay: 2400 },
        { number: 13, content: "  }", delay: 2600 },
        { number: 14, content: "", delay: 2800 },
        { number: 15, content: "  checkLevelUp() {", delay: 3000 },
        { number: 16, content: "    if (this.xp >= this.level * 100) {", delay: 3200 },
        { number: 17, content: "      this.level++;", delay: 3400 },
        { number: 18, content: "      this.unlockFeature();", delay: 3600 },
        { number: 19, content: "    }", delay: 3800 },
        { number: 20, content: "  }", delay: 4000 },
        { number: 21, content: "}", delay: 4200 },
        { number: 22, content: "", delay: 4400 },
        { number: 23, content: "// ×™×¦×™×¨×ª ××•×¤×¢ ×—×“×© ×©×œ ×”××©×—×§", delay: 4600 },
        { number: 24, content: "const game = new NiftiiGame();", delay: 4800 },
        { number: 25, content: "game.addXP(50); // ×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ", delay: 5000 }
      ];

      let currentLine = 0;
      
      function addNextLine() {
        if (currentLine >= codeLines.length) {
          // ×”×ª×—×œ×” ××—×“×© ××—×¨×™ ×”×©×œ××ª ×›×œ ×”×©×•×¨×•×ª
          setTimeout(() => {
            codeContent.innerHTML = '';
            currentLine = 0;
            addNextLine();
          }, 3000);
          return;
        }
        
        const line = codeLines[currentLine];
        const lineElement = document.createElement('div');
        lineElement.className = 'code-line';
        lineElement.style.animationDelay = `${line.delay}ms`;
        
        lineElement.innerHTML = `
          <span class="line-number">${line.number}</span>
          <span class="line-content">${line.content}</span>
          ${currentLine === codeLines.length - 1 ? '<span class="code-cursor"></span>' : ''}
        `;
        
        codeContent.appendChild(lineElement);
        currentLine++;
        
        // ×’×œ×™×œ×” ××•×˜×•××˜×™×ª ×œ×ª×—×ª×™×ª
        codeContent.scrollTop = codeContent.scrollHeight;
        
        // ×”×•×¡×£ ××ª ×”×©×•×¨×” ×”×‘××”
        if (currentLine < codeLines.length) {
          setTimeout(addNextLine, codeLines[currentLine].delay - line.delay);
        }
      }
      
      // ×”×ª×—×œ ××ª ×”×× ×™××¦×™×”
      addNextLine();
    }

    /* ××ª×—×•×œ */
    (async function init(){
      await ensureUser();
      await captureReferral();
      particles();
      appearOnScroll();
      await refreshProgress();
      await renderLeaderboardServer();
      await renderSharesGraph();
      await loadChat();

      const d = load();
      if(d.shareUrl){
        document.getElementById('shareUrl').value = d.shareUrl;
        revealPostConnect();
      }
      document.getElementById('drawCardBtn')?.addEventListener('click', drawCard);
      document.getElementById('mintNftBtn')?.addEventListener('click', openMintNft);
      document.getElementById('mintBtn')?.addEventListener('click', mintNft);

      await renderAdmin();
      
      // ×”×ª×—×œ ××ª ×× ×™××¦×™×™×ª ×”×§×•×“ ×”×¨×¥
      initRunningCode();
    })();
  </script>
</body>
</html>
