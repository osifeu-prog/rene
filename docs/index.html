<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rene - ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</title>
  <meta name="description" content="Rene - ×”×ª×—×œ×” ×—×•×•×™×™×ª×™×ª ×œ×ª×œ××™×“×™×: ×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, × ×™×§×•×“, ×©×™×ª×•×£, ×•××¢×§×‘ ××ª×§×“× ×œ××“××™×Ÿ." />
  <style>
    /* ×‘×¡×™×¡ ×¢×™×¦×•×‘ */
    :root{
      --bg1:#0f1020;
      --bg2:#24124a;
      --accent:#ff4d8f;
      --accent-2:#00ffe1;
      --text:#ffffff;
      --glass:rgba(255,255,255,0.12);
      --glass-strong:rgba(255,255,255,0.2);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 600px at 20% 10%, #2b1b56 0%, var(--bg1) 40%), linear-gradient(135deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
      perspective: 1200px;
    }
    .container{max-width:1200px;margin:0 auto;padding:2rem}

    /* ×¨×§×¢ ××’× ×™×‘: ×©×›×‘×•×ª, ×—×œ×§×™×§×™×, ×•×’×œ×™× */
    .bg{
      position:fixed;inset:0;z-index:-3;overflow:hidden;
    }
    canvas#particles{
      position:absolute;inset:0;opacity:0.35;
    }
    .wave{
      position:absolute;left:0;right:0;bottom:-10vh;height:40vh;
      background: radial-gradient(closest-side at 20% 50%, rgba(255,255,255,0.06), transparent 60%),
                  radial-gradient(closest-side at 80% 50%, rgba(255,255,255,0.06), transparent 60%);
      filter: blur(16px);
      transform: translateZ(-200px);
      animation: waveFloat 14s ease-in-out infinite;
    }
    @keyframes waveFloat{
      0%,100%{transform: translateY(0) translateZ(-200px)}
      50%{transform: translateY(-20px) translateZ(-200px)}
    }
    .orb{
      position:absolute;width:300px;height:300px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #00ffe1 0%, #6a37ff 35%, transparent 70%);
      filter: blur(40px);
      mix-blend-mode: screen;
      animation: orbMove 18s linear infinite;
    }
    .orb.orb2{background: radial-gradient(circle at 70% 30%, #ff4d8f 0%, #ffb86b 40%, transparent 70%);animation-duration:24s}
    @keyframes orbMove{
      0%{transform: translate(10vw,10vh) rotate(0deg)}
      50%{transform: translate(70vw,30vh) rotate(180deg)}
      100%{transform: translate(10vw,10vh) rotate(360deg)}
    }

    /* ×”Öµ×¨×•Ö¹ ×ª×œ×ªÖ¾××™××“ */
    .hero{
      text-align:center;padding:5rem 1rem 3rem;
      transform-style: preserve-3d;
      animation: fadeInUp 1.2s ease-out both;
    }
    .title3d{
      display:inline-block;
      font-size: clamp(2rem,5vw,4rem);
      letter-spacing:1px;
      text-shadow:
        0 4px 0 rgba(0,0,0,0.25),
        0 0 18px rgba(0,255,225,0.4),
        0 0 36px rgba(255,77,143,0.35);
      background: linear-gradient(90deg, #fff, #c6fff7 30%, #ffd3e5 60%, #fff 90%);
      -webkit-background-clip: text;
      background-clip:text;
      color:transparent;
      transform: rotateX(6deg) rotateY(-6deg) translateZ(30px);
      animation: glowShift 4s ease-in-out infinite alternate;
    }
    @keyframes glowShift{
      from{filter: drop-shadow(0 0 6px #00ffe1)}
      to{filter: drop-shadow(0 0 12px #ff4d8f)}
    }
    .hero p{
      max-width:800px;margin:1rem auto 2rem;font-size:1.2rem;opacity:0.92;
    }

    /* ×›×¤×ª×•×¨×™× ×•×’×œ××¡××•×¨×¤×™×–× */
    .btn{
      --shadow:0 10px 25px rgba(0,0,0,0.35);
      display:inline-block; padding:0.9rem 1.4rem; border-radius:999px;
      background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
      border:1px solid rgba(255,255,255,0.22);
      color:#fff; text-decoration:none; margin:0.4rem; position:relative; overflow:hidden;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      transition: transform .25s ease, box-shadow .25s ease, background .25s ease;
      cursor:pointer;
    }
    .btn.primary{background: linear-gradient(135deg, #ff4d8f, #ff7bb0); box-shadow: 0 8px 24px rgba(255,77,143,.45)}
    .btn:hover{transform: translateY(-4px) rotateX(2deg) rotateY(-2deg)}
    .btn:active{transform: translateY(0)}
    /* Ripple */
    .btn::after{
      content:"";position:absolute;width:12px;height:12px;border-radius:50%;background:rgba(255,255,255,0.6);
      transform:scale(1);opacity:0;pointer-events:none;
    }

    /* ×’×¨×™×“ ×¤×™×¦'×¨×™× ×¢× ××¤×§×˜ Tilt ×ª×œ×ª ××™××“×™ */
    .features{
      display:grid;grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
      gap:1.2rem; margin:2rem 0 3rem;
    }
    .card{
      background: var(--glass); border:1px solid rgba(255,255,255,0.18);
      border-radius:16px; padding:1.3rem;
      backdrop-filter: blur(12px);
      transform-style: preserve-3d;
      transition: transform .25s ease, box-shadow .25s ease;
      box-shadow: 0 8px 28px rgba(0,0,0,0.25);
      position:relative; overflow:hidden;
    }
    .card:hover{transform: rotateX(6deg) rotateY(-6deg) translateZ(12px); box-shadow: 0 16px 36px rgba(0,0,0,0.35)}
    .card h3{margin:0 0 .6rem;font-size:1.3rem}
    .card .spark{
      position:absolute; inset:auto; right:-20px; top:-20px; font-size:2rem; opacity:0;
      animation: sparkle 1.2s ease infinite; pointer-events:none;
    }
    .card:hover .spark{opacity:1}
    @keyframes sparkle{
      0%{transform: scale(.5) rotate(0deg); opacity:.0}
      50%{transform: scale(1.25) rotate(180deg); opacity:.9}
      100%{transform: scale(.5) rotate(360deg); opacity:.0}
    }

    /* ××™× ×™-××©×—×§ ×§×œ×¤×™× */
    .game{
      margin:2rem 0; text-align:center;
    }
    .game .deck{
      display:flex;flex-wrap:wrap;gap:.8rem;justify-content:center;margin-top:1rem;
    }
    .game-card{
      min-width:220px; max-width:280px; flex:1 1 240px;
      background: var(--glass-strong);
      border:1px solid rgba(255,255,255,0.22);
      border-radius:14px; padding:1rem; text-align:right;
      box-shadow: 0 10px 28px rgba(0,0,0,0.28);
      transform-style: preserve-3d;
      transition: transform .3s ease, box-shadow .3s ease;
    }
    .game-card.show{transform: rotateY(0deg) translateZ(8px)}
    .game-card.hide{transform: rotateY(90deg);opacity:.6}
    .xp{
      display:inline-flex; align-items:center; gap:.4rem;
      background: rgba(0,255,225,.15); border:1px solid rgba(0,255,225,.35);
      color:#aafff5; border-radius:999px; padding:.2rem .6rem; font-weight:600; font-size:.95rem;
    }

    /* ×”×•×¨××•×ª ××©×™××” ×¨××©×•× ×” */
    .task{
      margin:3rem 0; padding:1.5rem; border-radius:16px;
      background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
      border:1px solid rgba(255,255,255,0.18);
      box-shadow: 0 8px 28px rgba(0,0,0,0.25);
    }
    .task h2{margin:0 0 .6rem}
    .task ol{margin:.6rem 0 0; padding-inline-start:1.2rem}
    .task li{margin:.4rem 0}
    .task code{
      background: rgba(0,0,0,0.35); padding:.2rem .4rem; border-radius:8px;
      border:1px solid rgba(255,255,255,0.15);
      display:inline-block; direction:ltr;
    }

    /* ×©×™×ª×•×£ + ×œ×•×— ××•×‘×™×œ×™× */
    .share{margin:2rem 0; text-align:center}
    .leaderboard{
      margin:2rem 0; padding:1.4rem; border-radius:16px;
      background: var(--glass); border:1px solid rgba(255,255,255,0.18);
    }
    .leaderboard h2{text-align:center;margin:.2rem 0 1rem}
    .leaderboard ul{list-style:none;margin:0;padding:0;display:grid;gap:.4rem}
    .leaderboard li{background: rgba(255,255,255,0.08); padding:.6rem .8rem; border-radius:12px}

    /* ××“××™×Ÿ */
    .admin{
      margin:2.4rem 0; padding:1rem; border-radius:14px; background: rgba(255,255,255,0.10);
      border:1px solid rgba(255,255,255,0.18);
    }
    .admin h2{margin:.2rem 0 1rem}
    .admin-grid{display:grid;grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:.8rem}
    .admin-card{background: rgba(255,255,255,0.08); padding:.8rem; border-radius:10px}
    .admin small{opacity:.8}

    /* ×× ×™××¦×™×•×ª ×›×œ×œ×™×•×ª */
    @keyframes fadeInUp{
      from{opacity:0; transform: translateY(18px)}
      to{opacity:1; transform: translateY(0)}
    }

    /* ×¨×¡×¤×•× ×¡×™×‘×™×•×ª */
    @media (max-width:768px){
      .container{padding:1rem}
      .title3d{transform: rotateX(4deg) rotateY(-3deg) translateZ(18px)}
    }
  </style>
</head>
<body>
  <!-- ×¨×§×¢ ××’× ×™×‘ ×¨×‘Ö¾×©×›×‘×ª×™ -->
  <div class="bg">
    <canvas id="particles"></canvas>
    <div class="wave"></div>
    <div class="orb"></div>
    <div class="orb orb2"></div>
  </div>

  <div class="container">
    <section class="hero">
      <h1 class="title3d">ğŸ® Rene â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</h1>
      <p>×œ××“×• ×œ×ª×›× ×ª ×“×¨×š ××©×—×§×™×, ××©×™××•×ª, × ×™×§×•×“ ×•×§×œ×¤×™ ××ª×’×¨. ×¤×•×ª×—×™× ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ ×‘×’×™×˜×”××‘, ××©×™×’×™× × ×§×•×“×•×ª, ×•××©×ª×¤×™× ××ª ×“×£ ×”× ×—×™×ª×” ×©×œ×›× ×œ×—×‘×¨×™×!</p>

      <!-- ×”×•×¨×“×ª ×”×›×¤×ª×•×¨ "×”×ª×—×œ ×œ×œ××•×“ ×¢×›×©×™×•" ×‘×”×ª×× ×œ×‘×§×©×” -->
      <!-- ×”×—×œ×¤×ª "×¦×¤×• ×‘×§×•×“ ×‘-GitHub" ×œ"×”×¨×©××”" ×•"×¤×ª×™×—×ª ×¤×¨×•×™×§×˜" -->
      <div>
        <a class="btn primary" href="https://github.com/signup" target="_blank" rel="noopener" data-track="signup">ğŸ§‘â€ğŸš€ ×”×™×¨×©× ×œ×’×™×˜×”××‘</a>
        <a class="btn" href="https://github.com/new" target="_blank" rel="noopener" data-track="newrepo">ğŸ“¦ ×¤×ª×— ××ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ×©×œ×š</a>
        <button class="btn" id="connectRepoBtn" title="×—×™×‘×•×¨ ×“×£ ×”× ×—×™×ª×” ×œ×¤×¨×•×™×§×˜ ×©×œ×š">ğŸ”— ×—×‘×¨ ××ª ×”×“×£ ×œ×¤×¨×•×™×§×˜ ×©×œ×š</button>
      </div>
    </section>

    <!-- ×¤×™×¦'×¨×™× -->
    <section class="features">
      <div class="card"><h3>ğŸ‘¨â€ğŸ’» ×œ××™×“×” ×—×•×•×™×™×ª×™×ª</h3><p>×ª×›× ×•×ª ×“×¨×š ××©×—×§×™×, ××ª×’×¨×™× ×•× ×™×§×•×“ â€” ×‘×œ×™ ×©×™×¢×•×¨×™× ××©×¢×××™×.</p><div class="spark">âœ¨</div></div>
      <div class="card"><h3>ğŸ¯ ××©×™××•×ª ××¢×©×™×•×ª</h3><p>×›×œ ×¦×¢×“ ××ª×•×¨×’× ×œ×§×•×“ ×××™×ª×™ ×©×¨×¥ ×‘×“×¤×“×¤×Ÿ ×•×‘××—×©×‘.</p><div class="spark">âœ¨</div></div>
      <div class="card"><h3>ğŸƒ ××•×¡×£ ×§×œ×¤×™×</h3><p>×’×¨×œ×• ×§×œ×¤×™ ××ª×’×¨/×˜×™×¤×™× ×•×”×¨×•×•×™×—×• XP ×œ×›×œ ××©×™××”.</p><div class="spark">âœ¨</div></div>
      <div class="card"><h3>ğŸ“ˆ ××¢×§×‘ ×”×ª×§×“××•×ª</h3><p>XP, ××©×™××•×ª, ×•×©×™×ª×•×¤×™× â€” ×”×›×œ × ×¨×©× ×•××¢×•×“×›×Ÿ.</p><div class="spark">âœ¨</div></div>
    </section>

    <!-- ××©×™××” ×¨××©×•× ×”: ×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×¨××©×•×Ÿ -->
    <section class="task" id="firstTask">
      <h2>ğŸš€ ××©×™××” #1 â€” ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ×©×œ×š ×‘×’×™×˜×”××‘</h2>
      <p>×”×¢××•×“ ×”×–×” ×™×”×™×” ×“×£ ×”× ×—×™×ª×” ×”×¨××©×•×Ÿ ×©×œ×š! ×ª×•×š ×›××” ×“×§×•×ª ×™×”×™×” ×œ×š ×¤×¨×•×™×§×˜ ×‘×’×™×˜×”××‘ ×¢× ×“×£ ×©×›×•×œ× ×™×›×•×œ×™× ×œ×¨××•×ª.</p>
      <ol>
        <li><strong>×¤×ª×— ××©×ª××©:</strong> ×œ×—×¥ ×¢×œ <a href="https://github.com/signup" target="_blank" rel="noopener">×”×¨×©××” ×œ×’×™×˜×”××‘</a> ×•×¡×™×™× ××ª ×”×”×¨×©××”.</li>
        <li><strong>×¦×•×¨ ×¨×™×¤×• ×—×“×©:</strong> ×œ×—×¥ ×¢×œ <a href="https://github.com/new" target="_blank" rel="noopener">×¤×ª×™×—×ª ×¤×¨×•×™×§×˜ ×—×“×©</a>.</li>
        <li><strong>×©× ×”×¨×™×¤×•:</strong> ×‘×—×¨ ×©× ×§×œ×™×˜, ×œ××©×œ <code>rene-first-project</code>.</li>
        <li><strong>×”×¢×œ×” ××ª ×”×§×•×‘×¥ ×”×–×”:</strong> ×¤×ª×— ××ª ×”×¨×™×¤×• ×•×œ×—×¥ ×¢×œ <em>Add file â†’ Create new file</em> ××• <em>Upload files</em>, ×•×”×“×‘×§/×”×¢×œ×” ××ª ×”×§×•×‘×¥ ×”×–×” ×‘×©× <code>index.html</code>.</li>
        <li><strong>×”×¤×¢×œ GitHub Pages:</strong> ×‘×¢××•×“ ×”×¨×™×¤×• â†’ <em>Settings</em> â†’ <em>Pages</em> â†’ Source: <em>Deploy from a branch</em>, Branch: <em>main</em>, Folder: <em>root</em>. ×©××•×¨ â€” ×ª×§×‘×œ ×›×ª×•×‘×ª URL ×©×œ ×”×“×£ ×©×œ×š.</li>
        <li><strong>×—×‘×¨ ××ª ×”×“×£ ×›××Ÿ:</strong> ×œ×—×¥ ×¢×œ ×”×›×¤×ª×•×¨ "<em>×—×‘×¨ ××ª ×”×“×£ ×œ×¤×¨×•×™×§×˜ ×©×œ×š</em>" ×•×”×“×‘×§ ××ª ×”Ö¾URL ×©×§×™×‘×œ×ª. ×–×” ×™×¢× ×™×§ ×œ×š XP ×•×™××¤×©×¨ ×©×™×ª×•×£ ××”×™×¨.</li>
      </ol>
      <p class="xp">+50 XP ×¢×œ ×¤×ª×™×—×ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ</p>
    </section>

    <!-- ××™× ×™-××©×—×§ ×§×œ×¤×™× -->
    <section class="game">
      <h2>ğŸ² ×’×¨×™×œ×ª ×§×œ×£ ×ª×›× ×•×ª</h2>
      <div>
        <button class="btn primary" id="drawCardBtn">×’×¨×™×œ ×§×œ×£!</button>
        <span class="xp" id="xpBadge">XP: 0</span>
      </div>
      <div class="deck" id="deck"></div>
    </section>

    <!-- ×©×™×ª×•×£ -->
    <section class="share">
      <h2>ğŸ”— ×©×ª×¤×• ××ª ×”×¢××•×“ ×©×œ×›×</h2>
      <p>××—×¨×™ ×©×—×™×‘×¨×ª× ××ª ×“×£ ×”× ×—×™×ª×”, ×©×ª×¤×• ××•×ª×• ×¢× ×—×‘×¨×™× ×•×§×‘×œ×• ×¢×•×“ XP ×¢×œ ×›×œ ×›× ×™×¡×”!</p>
      <div>
        <input id="shareUrl" type="text" placeholder="×”×“×‘×™×§×• ×›××Ÿ ××ª ×›×ª×•×‘×ª ×”×“×£ ×©×œ×›× (GitHub Pages)" style="min-width:280px;max-width:520px;width:60%;padding:.6rem;border-radius:12px;border:1px solid rgba(255,255,255,0.25);background:rgba(255,255,255,0.08);color:#fff"/>
        <button class="btn" id="saveShareUrl">ğŸ’¾ ×©××•×¨ ×›×ª×•×‘×ª</button>
        <button class="btn" id="copyShareUrl">ğŸ“£ ×”×¢×ª×§ ×§×™×©×•×¨ ×œ×©×™×ª×•×£</button>
      </div>
      <p class="xp" style="margin-top:.8rem">+10 XP ×¢×œ ×©×™×ª×•×£ ×¨××©×•×Ÿ</p>
    </section>

    <!-- ×œ×•×— ××•×‘×™×œ×™× ×“××” (×œ×™×™×‘ ××ª×•×š localStorage) -->
    <section class="leaderboard">
      <h2>ğŸ† ×œ×•×— ××•×‘×™×œ×™×</h2>
      <ul id="leaderList">
        <li>ğŸ¥‡ × ×•×¢×” â€” 120 XP</li>
        <li>ğŸ¥ˆ ×™×•××‘ â€” 95 XP</li>
        <li>ğŸ¥‰ ×“× ×” â€” 80 XP</li>
      </ul>
      <small style="opacity:.75">×”× ×ª×•× ×™× ××ª×¢×“×›× ×™× ××§×•××™×ª. ×‘×’×¨×¡×” ××œ××” ×™×”×™×” ×¡× ×›×¨×•×Ÿ ×œ×©×¨×ª.</small>
    </section>

    <!-- ××“××™×Ÿ: ××¢×§×‘ ×”×¤×¦×” ×•×”×ª×§×“××•×ª -->
    <section class="admin" id="adminPanel" style="display:none">
      <h2>ğŸ› ï¸ ××“××™×Ÿ â€” ××¢×§×‘ ×”×¤×¦×” ×•×”×ª×§×“××•×ª</h2>
      <div class="admin-grid">
        <div class="admin-card">
          <strong>×ª×œ××™×“×™× ××–×•×”×™× ××§×•××™×ª</strong>
          <div id="adminStudentsCount">0</div>
          <small>××¡×³ ×¤×¨×•×¤×™×œ×™× ×©×©××¨×• URL</small>
        </div>
        <div class="admin-card">
          <strong>×©×™×ª×•×¤×™× ×©×‘×•×¦×¢×•</strong>
          <div id="adminShares">0</div>
          <small>×œ×—×™×¦×•×ª "×”×¢×ª×§ ×§×™×©×•×¨ ×œ×©×™×ª×•×£"</small>
        </div>
        <div class="admin-card">
          <strong>XP ××¦×˜×‘×¨</strong>
          <div id="adminTotalXP">0</div>
          <small>×¡×š ×›×œ × ×§×•×“×•×ª ×œ×¤×™ localStorage</small>
        </div>
        <div class="admin-card">
          <strong>××©×™××•×ª ×©×”×•×©×œ××•</strong>
          <div id="adminTasks">0</div>
          <small>×›×•×œ×œ ×¤×ª×™×—×ª ×¨×™×¤×• ×•×—×™×‘×•×¨ ×“×£</small>
        </div>
      </div>
      <div style="margin-top:.8rem">
        <button class="btn" id="exportData">â¬‡ï¸ ×™×™×¦× × ×ª×•× ×™× (JSON)</button>
        <button class="btn" id="resetData">ğŸ§¹ ××™×¤×•×¡ ××§×•××™</button>
      </div>
      <small style="display:block;margin-top:.6rem;opacity:.75">×›×“×™ ×œ×¤×ª×•×— ××ª ×¤×× ×œ ×”××“××™×Ÿ: ×”×•×¡×™×¤×• ?admin=1 ×œÖ¾URL ×©×œ ×”×¢××•×“.</small>
    </section>

    <footer style="text-align:center;margin:2.4rem 0 1rem;opacity:.8">
      <p>Â© 2025 Rene â€” ××¢×¨×›×ª ×œ×™××•×“ ×ª×›× ×•×ª ××©×—×§×™×ª</p>
    </footer>
  </div>

  <audio id="popSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3" preload="auto"></audio>

  <script>
    /* ××¢×¨×›×ª XP ×•× ×ª×•× ×™× ××§×•××™×™× */
    const STORE_KEY = 'rene_app';
    const DEFAULT_DATA = {
      xp: 0,
      tasks: { firstRepo: false, connectedLanding: false, firstShare: false },
      shareUrl: '',
      sharesCount: 0,
      studentsCount: 0, // ×“××”: × ×¡×¤×¨ ××¡×¤×¨ ×¤×¢××™× ×©×”×•×–×Ÿ URL ×©×•× ×”
      history: []
    };
    const SFX = document.getElementById('popSound');

    function load(){
      try{
        const raw = localStorage.getItem(STORE_KEY);
        return raw ? JSON.parse(raw) : { ...DEFAULT_DATA };
      }catch(e){ return { ...DEFAULT_DATA }; }
    }
    function save(data){
      localStorage.setItem(STORE_KEY, JSON.stringify(data));
      render();
    }
    function addXP(data, amount, reason){
      data.xp += amount;
      data.history.push({ t: Date.now(), xp:+amount, reason });
      save(data);
      pulseXP();
    }
    function pulseXP(){
      const badge = document.getElementById('xpBadge');
      badge.style.transform = 'scale(1.08)';
      setTimeout(()=> badge.style.transform = 'scale(1)', 220);
    }

    /* ×§×œ×¤×™× ×•××ª×’×¨×™× */
    const cards = [
      { title:"ğŸ’¡ ×¤×•× ×§×¦×™×” ×›×¤×•×œ 2", text:"×›×ª×‘×• ×¤×•× ×§×¦×™×” ×©××—×–×™×¨×” ××¡×¤×¨ ×›×¤×•×œ 2." , xp:5 },
      { title:"ğŸ”¥ × ×™×—×•×© ××¡×¤×¨×™×", text:"×¦×¨×• ××©×—×§ ×©××’×¨×™×œ ××¡×¤×¨ 1-50 ×•××ª× ×× ×—×©×™×." , xp:10 },
      { title:"ğŸ§© ×ª× ××™× ×¢× if", text:"×”×•×¡×™×¤×• ×‘×“×™×§×•×ª ×œ×•×’×™×•×ª ×œ×§×œ×˜ ×”××©×ª××©." , xp:5 },
      { title:"ğŸš€ ×œ×•×œ××” 1â†’10", text:"×¦×¨×• ×œ×•×œ××” ×©××“×¤×™×¡×” ××ª ×”××¡×¤×¨×™× 1 ×¢×“ 10." , xp:5 },
      { title:"ğŸ¨ ×¦×‘×¢ ×¨×§×¢ ×“×™× ××™", text:"×“×£ ×©××©× ×” ×¨×§×¢ ×›×œ 2 ×©× ×™×•×ª ×¢× JS." , xp:10 }
    ];
    function drawCard(){
      const data = load();
      const i = Math.floor(Math.random() * cards.length);
      const c = cards[i];
      addXP(data, c.xp, 'draw_card:'+c.title);
      SFX.currentTime = 0; SFX.play();
      showCard(c);
    }
    function showCard(card){
      const deck = document.getElementById('deck');
      const el = document.createElement('div');
      el.className = 'game-card hide';
      el.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:.4rem">
          <strong>${card.title}</strong>
          <span class="xp">+${card.xp} XP</span>
        </div>
        <div>${card.text}</div>
      `;
      deck.prepend(el);
      requestAnimationFrame(()=> {
        el.classList.remove('hide');
        el.classList.add('show');
      });
    }

    /* Ripple ××¤×§×˜ ×œ×›×¤×ª×•×¨×™× */
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.btn');
      if(!btn) return;
      const rect = btn.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      btn.style.setProperty('--rx', x+'px');
      btn.style.setProperty('--ry', y+'px');
      const after = btn;
      if(after){
        after.style.setProperty('--ripple-x', x);
        after.style.setProperty('--ripple-y', y);
        btn.style.setProperty('--ripple', 1);
        btn.style.setProperty('--ripple', 0);
      }
    });

    /* ×©×™×ª×•×£ ×•× ×™×”×•×œ URL ×©×œ ×”×ª×œ××™×“ */
    const connectBtn = document.getElementById('connectRepoBtn');
    const saveShareBtn = document.getElementById('saveShareUrl');
    const copyShareBtn = document.getElementById('copyShareUrl');
    const shareInput = document.getElementById('shareUrl');

    connectBtn.addEventListener('click', ()=>{
      const url = prompt('×”×“×‘×™×§×• ×›××Ÿ ××ª ×›×ª×•×‘×ª GitHub Pages ×©×œ ×”×¤×¨×•×™×§×˜ ×©×œ×›×:');
      if(!url) return;
      const data = load();
      const wasEmpty = !data.shareUrl;
      data.shareUrl = url.trim();
      data.tasks.connectedLanding = true;
      if(wasEmpty) data.studentsCount += 1; // ×“××”: × ×—×©×™×‘ ×–××ª ×›×ª×œ××™×“ ×—×“×© ×©××–×•×”×”
      addXP(data, 30, 'connect_landing');
      alert('×”×“×£ ×—×•×‘×¨ ×‘×”×¦×œ×—×”! ×ª×•×›×œ×• ×œ×©×ª×£ ××•×ª×• ×•×œ×¦×‘×•×¨ XP.');
      shareInput.value = data.shareUrl;
      save(data);
    });

    saveShareBtn.addEventListener('click', ()=>{
      const val = (shareInput.value || '').trim();
      if(!val){ alert('× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª ×ª×§×™× ×” ×©×œ GitHub Pages.'); return; }
      const data = load();
      const wasEmpty = !data.shareUrl;
      data.shareUrl = val;
      data.tasks.connectedLanding = true;
      if(wasEmpty) data.studentsCount += 1;
      addXP(data, 10, 'save_share_url');
      save(data);
      alert('× ×©××¨! ×¢×›×©×™×• ××¤×©×¨ ×œ×©×ª×£ ×‘×§×œ×™×§.');
    });

    copyShareBtn.addEventListener('click', async ()=>{
      const data = load();
      if(!data.shareUrl){ alert('××™×Ÿ ×›×ª×•×‘×ª ×©××•×¨×”. ×”×–×™× ×• ××ª ×›×ª×•×‘×ª ×”Ö¾GitHub Pages ×©×œ×›×.'); return; }
      try{
        await navigator.clipboard.writeText(data.shareUrl);
        data.sharesCount += 1;
        if(!data.tasks.firstShare){ data.tasks.firstShare = true; addXP(data, 10, 'first_share'); }
        save(data);
        alert('×”×§×™×©×•×¨ ×”×•×¢×ª×§! ×©×ª×¤×• ××•×ª×• ×‘×§×‘×•×¦×•×ª, ×‘×•×•×˜×¡××¤ ×•×‘×›×œ ××§×•× ğŸ˜‰');
      }catch(e){
        alert('×œ× ×”×¦×œ×—×ª×™ ×œ×”×¢×ª×™×§. × ×¡×• ×™×“× ×™×ª.');
      }
    });

    /* ××¢×§×‘ ××©×™××” ×¨××©×•× ×”: ×¡×™××•×Ÿ ×¤×ª×™×—×ª ×¨×™×¤×• */
    document.querySelectorAll('[data-track]').forEach(el=>{
      el.addEventListener('click', (e)=>{
        const data = load();
        const action = el.getAttribute('data-track');
        if(action === 'signup'){
          addXP(data, 5, 'signup_click');
        }
        if(action === 'newrepo'){
          if(!data.tasks.firstRepo){
            data.tasks.firstRepo = true;
            addXP(data, 50, 'first_repo');
            save(data);
            setTimeout(()=> alert('×›×œ ×”×›×‘×•×“! +50 XP ×¢×œ ×¤×ª×™×—×ª ×”×¤×¨×•×™×§×˜ ×”×¨××©×•×Ÿ ğŸ‰'), 50);
          }
        }
      });
    });

    /* Leaderboard ×“×™× ××™ ×“××”: ×”×•×¡×¤×ª ×ª×œ××™×“ ××§×•××™ */
    function renderLeaderboard(){
      const data = load();
      const list = document.getElementById('leaderList');
      const meName = '××ª×';
      const myItem = `ğŸ”¹ ${meName} â€” ${data.xp} XP`;
      const base = [
        'ğŸ¥‡ × ×•×¢×” â€” 120 XP',
        'ğŸ¥ˆ ×™×•××‘ â€” 95 XP',
        'ğŸ¥‰ ×“× ×” â€” 80 XP',
      ];
      const idx = 2; // × ×›× ×™×¡ ×œ×¤× ×™ ×”××§×•× ×”×©×œ×™×©×™
      const arr = [...base.slice(0, idx), myItem, ...base.slice(idx)];
      list.innerHTML = arr.map(x=> `<li>${x}</li>`).join('');
    }

    /* ××“××™×Ÿ: ×”×¦×’×ª ×¤×× ×œ ×›××©×¨ ×™×© ?admin=1 */
    function isAdmin(){
      const params = new URLSearchParams(location.search);
      return params.get('admin') === '1';
    }
    function renderAdmin(){
      const panel = document.getElementById('adminPanel');
      if(!isAdmin()){ panel.style.display='none'; return; }
      panel.style.display='block';
      const data = load();
      const totalXP = data.xp;
      const tasksDone = Object.values(data.tasks).filter(Boolean).length;
      document.getElementById('adminStudentsCount').textContent = data.studentsCount;
      document.getElementById('adminShares').textContent = data.sharesCount;
      document.getElementById('adminTotalXP').textContent = totalXP;
      document.getElementById('adminTasks').textContent = tasksDone;

      document.getElementById('exportData').onclick = ()=>{
        const blob = new Blob([JSON.stringify(load(), null, 2)], {type:'application/json'});
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url; a.download = 'rene_local_data.json'; a.click();
        URL.revokeObjectURL(url);
      };
      document.getElementById('resetData').onclick = ()=>{
        if(confirm('×œ××¤×¡ ××ª ×”× ×ª×•× ×™× ×”××§×•××™×™×?')){ localStorage.removeItem(STORE_KEY); location.reload(); }
      };
    }

    /* ×¢×“×›×•×Ÿ ×ª×¦×•×’×” */
    function render(){
      const data = load();
      document.getElementById('xpBadge').textContent = 'XP: ' + data.xp;
      if(data.shareUrl) document.getElementById('shareUrl').value = data.shareUrl;
      renderLeaderboard();
      renderAdmin();
    }

    /* ×—×œ×§×™×§×™× ×¨×§×¢ (Canvas) */
    function particles(){
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      let w, h, dpr;
      function resize(){
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        dpr = window.devicePixelRatio || 1;
        canvas.width = w * dpr;
        canvas.height = h * dpr;
        ctx.scale(dpr, dpr);
      }
      resize(); window.addEventListener('resize', resize);

      const PCOUNT = 90;
      const ps = new Array(PCOUNT).fill(0).map(()=>({
        x: Math.random()*w,
        y: Math.random()*h,
        r: Math.random()*2 + 0.6,
        vx: (Math.random()-0.5)*0.4,
        vy: (Math.random()-0.5)*0.4,
        c: Math.random()<.5 ? 'rgba(0,255,225,.7)' : 'rgba(255,77,143,.7)'
      }));
      function step(){
        ctx.clearRect(0,0,w,h);
        for(const p of ps){
          p.x += p.vx; p.y += p.vy;
          if(p.x<0||p.x>w) p.vx*=-1;
          if(p.y<0||p.y>h) p.vy*=-1;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
          ctx.fillStyle = p.c;
          ctx.fill();
        }
        // ×§×•×•×™ ×—×™×‘×•×¨ ×“×§×™×
        for(let i=0;i<PCOUNT;i++){
          for(let j=i+1;j<PCOUNT;j++){
            const a=ps[i], b=ps[j];
            const dist = Math.hypot(a.x-b.x, a.y-b.y);
            if(dist<110){
              ctx.strokeStyle = 'rgba(255,255,255,0.06)';
              ctx.lineWidth = 0.6;
              ctx.beginPath();
              ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
            }
          }
        }
        requestAnimationFrame(step);
      }
      step();
    }

    /* ×”×˜×™×•×ª 3D ×¢×“×™× ×•×ª ×œ×¤×™ ×¢×›×‘×¨ */
    function tilt3D(){
      const hero = document.querySelector('.hero');
      const cards = document.querySelectorAll('.card, .game-card');
      function tilt(el, e){
        const rect = el.getBoundingClientRect();
        const cx = rect.left + rect.width/2;
        const cy = rect.top + rect.height/2;
        const dx = (e.clientX - cx)/rect.width;
        const dy = (e.clientY - cy)/rect.height;
        el.style.transform = `rotateX(${dy*-6}deg) rotateY(${dx*6}deg) translateZ(12px)`;
      }
      document.addEventListener('mousemove', (e)=>{
        tilt(hero, e);
        cards.forEach(c=> tilt(c, e));
      });
      document.addEventListener('mouseleave', ()=>{
        hero.style.transform = '';
        cards.forEach(c=> c.style.transform = '');
      });
    }

    /* ××™×¨×•×¢×™× */
    document.getElementById('drawCardBtn').addEventListener('click', drawCard);

    /* ××ª×—×•×œ */
    particles();
    tilt3D();
    render();
  </script>
</body>
</html>
